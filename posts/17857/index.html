<!DOCTYPE html>
<html lang="zh-CN">
<head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/tree/4.3.1'>
  <meta charset="utf-8">
  <!-- SEO相关 -->
  
    
  
  <!-- 渲染优化 -->
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://cdn.jsdelivr.net'>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <link rel="preload" href="/css/first.css" as="style">
  

  <!-- 页面元数据 -->
  
  <title>为你的博客添加弹窗通知 - 無名小栈</title>
  
    <meta name="keywords" content="美化,教程,izitoast,弹窗,弹窗通知">
  

  
    <meta name="description" content="一个锦上添花的小功能，能更直观的向访客展示网站当前状态或显示信息，这篇文章就来说说如何给你的博客添加 izitoast 弹窗通知插件">
  

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="無名小栈" type="application/atom+xml">
  

  <!-- import meta -->
  
    
      <meta name="msapplication-TileColor" content="#ffffff">
    
      <meta name="msapplication-config" content="https://cdn.imsyy.top/gh/volantis-x/cdn-org/blog/favicon/browserconfig.xml">
    
      <meta name="theme-color" content="#ffffff">
    
      <meta name="viewport" content="width=device-width, initial-scale=1">
    
  

  <!-- link -->
  

  <!-- import link -->
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/medias/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/medias/48.png">
  <link rel="icon" type="image/png" sizes="76x76" href="/medias/76.png">
  <link rel="icon" type="image/png" sizes="128x128" href="/medias/128.png">
  <link rel="shortcut icon" href="/medias/128.png">
  <link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/izitoast/1.4.0/css/iziToast.min.css" data-pjax>
  <script defer type="text/javascript" src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/izitoast/1.4.0/js/iziToast.min.js" data-pjax></script>
  <link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/animate.css/4.1.1/animate.min.css">
  

  
    
<link rel="stylesheet" href="/css/first.css">

  

  
  <link rel="stylesheet" href="/css/style.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="/css/style.css"></noscript>
  

  <script id="loadcss"></script>

  
<script>
if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode))
    document.write(
	'<style>'+
		'html{'+
			'overflow-x: hidden !important;'+
			'overflow-y: hidden !important;'+
		'}'+
		'.kill-ie{'+
			'text-align:center;'+
			'height: 100%;'+
			'margin-top: 15%;'+
			'margin-bottom: 5500%;'+
		'}'+
	'</style>'+
    '<div class="kill-ie">'+
        '<h1><b>抱歉，您的浏览器无法访问本站</b></h1>'+
        '<h3>微软已经于2016年终止了对 Internet Explorer (IE) 10 及更早版本的支持，<br/>'+
        '继续使用存在极大的安全隐患，请使用当代主流的浏览器进行访问。</h3><br/>'+
        '<a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-cn/WindowsForBusiness/End-of-IE-support"><strong>了解详情 ></strong></a>'+
    '</div>');
</script>


<noscript>
	<style>
		html{
			overflow-x: hidden !important;
			overflow-y: hidden !important;
		}
		.kill-noscript{
			text-align:center;
			height: 100%;
			margin-top: 15%;
			margin-bottom: 5500%;
		}
	</style>
    <div class="kill-noscript">
        <h1><b>抱歉，您的浏览器无法访问本站</b></h1>
        <h3>本页面需要浏览器支持（启用）JavaScript</h3><br/>
        <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=启用JavaScript"><strong>了解详情 ></strong></a>
    </div>
</noscript>


  <!--自定义添加-->
  <!-- 新窗口打开 -->
<base target="_blank">

<!-- 图标动画 
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/font-awesome-animation.min.css">-->

<!-- 百度统计 -->
<script>
  var _hmt = _hmt || [];
  (function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?9267c4f28b616921175e384bf7835a4a";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<!--artitalk
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/artitalk"></script>-->

<!--图片加载失败-->
<script>
  document.addEventListener("error", function (e) {
    const elem = e.target;
    const parentElem = e.target.parentElement;
    const parentElemClass = parentElem.classList.toString();
    const pParentElemClass = parentElem.parentElement.classList.toString();
    if (elem.tagName.toLowerCase() !== 'img') {
      return;
    }
    elem.classList.add('fix-cursor-default', 'error');
    if (parentElemClass === 'fancybox' && pParentElemClass === 'fancybox') {
      parentElem.parentElement.classList.add('hideFancybox');
      parentElem.parentElement.classList.remove('fancybox');
      parentElem.classList.remove('fancybox');
    } else if (parentElemClass === 'img-bg' && pParentElemClass === 'img-wrap') {
      parentElem.parentElement.classList.add('hideFancybox');
    } else if (parentElemClass === 'author') {
      parentElem.parentElement.classList.add('fix-author-imgError');
    } else if (parentElemClass.indexOf('tk-avatar') != -1) {
      parentElem.parentElement.classList.add('fix-avatar-imgError');
    }
  }, true);
</script>
</head>


<body>
  <!--加载动画-->
  <div id="loading-box">
    <div class="loading-left-bg"></div>
    <div class="loading-right-bg"></div>
    <div class="spinner-box">
      <div class="loader">
        <div class="inner one"></div>
        <div class="inner two"></div>
        <div class="inner three"></div>
      </div>
      <div class="loading-word">
        <p class="loading-title">無名小栈</p>站点重构中<br>
        <a id="skip">立即进入</a>
      </div>
    </div>
  </div>
  <!--加载动画结束-->
  

<header id="l_header" class="l_header auto shadow blur show" style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h m-phone' id="pjax-header-nav-list">
        <li><a id="s-comment" class="fad fa-comments fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
          <li><a id="s-toc" class="s-toc fad fa-list fa-fw" target="_self" href='javascript:void(0)'></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a id="desktopNavTitle" class="title flat-box" target="_self" href='/'>
          
          
            <i class='fad fa-blog'></i>
          
          
            無名小栈
          
        </a>
        <!--添加动画-->
        <a id="githubEmoji" class="title flat-box" style="display: none;" target="_self" href='/'>
          <svg class="profile-color-modes" height="45" viewBox="0 0 106 60" fill="none" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><g class="profile-color-modes-illu-group profile-color-modes-illu-red"><path d="M37.5 58.5V57.5C37.5 49.768 43.768 43.5 51.5 43.5V43.5C59.232 43.5 65.5 49.768 65.5 57.5V58.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-orange"><path d="M104.07 58.5C103.401 55.092 97.7635 54.3869 95.5375 57.489C97.4039 54.6411 99.7685 48.8845 94.6889 46.6592C89.4817 44.378 86.1428 50.1604 85.3786 54.1158C85.9519 50.4768 83.7226 43.294 78.219 44.6737C72.7154 46.0534 72.7793 51.3754 74.4992 55.489C74.169 54.7601 72.4917 53.3567 70.5 52.8196"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-purple"><path d="M5.51109 58.5V52.5C5.51109 41.4543 14.4654 32.5 25.5111 32.5C31.4845 32.5 36.8464 35.1188 40.5111 39.2709C40.7212 39.5089 40.9258 39.7521 41.1245 40"></path><path d="M27.511 49.5C29.6777 49.5 28.911 49.5 32.511 49.5"></path><path d="M27.511 56.5C29.6776 56.5 26.911 56.5 30.511 56.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-green"><circle cx="5.5" cy="12.5" r="4"></circle><circle cx="18.5" cy="5.5" r="4"></circle><path d="M18.5 9.5L18.5 27.5"></path><path d="M18.5 23.5C6 23.5 5.5 23.6064 5.5 16.5"></path></g><g class="profile-color-modes-illu-group profile-color-modes-illu-blue"><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317C42.9939 24.5312 49.7417 26.6027 52.5428 30.2409C54.2551 29.8552 56.0796 29.6619 57.9731 29.6619C59.8169 29.6619 61.5953 29.8452 63.2682 30.211C66.0833 26.5913 72.799 24.5386 74.6117 27.2317C75.6839 28.8246 75.0259 33.7525 73.9345 37.5094C74.2013 37.9848 74.4422 38.4817 74.6555 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968C40.7845 26.9182 40.086 21.8512 41.1762 20.2317C42.9939 17.5312 49.7417 19.6027 52.5428 23.2409C54.2551 22.8552 56.0796 22.6619 57.9731 22.6619C59.8169 22.6619 61.5953 22.8452 63.2682 23.211C66.0833 19.5913 72.799 17.5386 74.6117 20.2317C75.6839 21.8246 75.0259 26.7525 73.9345 30.5094C75.1352 32.6488 75.811 35.2229 75.811 38.2283C75.811 38.49 75.8058 38.7472 75.7957 39"></path><path d="M49.4996 33V35.6757"></path><path d="M67.3375 33V35.6757"></path></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236C74.9709 38.2049 75.8108 35.5791 75.8108 32.2283C75.8108 29.2229 75.1351 26.6488 73.9344 24.5094C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317C72.7989 11.5386 66.0832 13.5913 63.2681 17.211C61.5952 16.8452 59.8167 16.6619 57.973 16.6619C56.0795 16.6619 54.2549 16.8552 52.5427 17.2409C49.7416 13.6027 42.9938 11.5312 41.176 14.2317C40.0859 15.8512 40.7843 20.9182 41.9084 24.6968C41.003 26.3716 40.4146 28.3065 40.2129 30.5"></path><path d="M82.9458 30.5471L76.8413 31.657"></path><path d="M76.2867 34.4319L81.8362 37.7616"></path><path d="M49.4995 27.8242V30.4999"></path><path d="M67.3374 27.8242V30.4998"></path></g><g class="profile-color-modes-illu-frame"><path d="M45.3697 34.2658C41.8877 32.1376 39.7113 28.6222 39.7113 23.2283C39.7113 20.3101 40.3483 17.7986 41.4845 15.6968C40.3605 11.9182 39.662 6.85125 40.7522 5.23168C42.5699 2.53117 49.3177 4.6027 52.1188 8.24095C53.831 7.85521 55.6556 7.66186 57.5491 7.66186C59.3929 7.66186 61.1713 7.84519 62.8442 8.21095C65.6593 4.59134 72.375 2.5386 74.1877 5.23168C75.2599 6.82461 74.6019 11.7525 73.5105 15.5094C74.7112 17.6488 75.3869 20.2229 75.3869 23.2283C75.3869 28.6222 73.2105 32.1376 69.7285 34.2658C70.8603 35.5363 72.6057 38.3556 73.3076 40"></path><path d="M49.0747 19.8242V22.4999"></path><path d="M54.0991 28C54.6651 29.0893 55.7863 30.0812 57.9929 30.0812C59.0642 30.0812 59.8797 29.8461 60.5 29.4788"></path><path d="M66.9126 19.8242V22.4999"></path><path d="M33.2533 20.0237L39.0723 22.1767"></path><path d="M39.1369 25.0058L33.0935 27.3212"></path><path d="M81.8442 19.022L76.0252 21.1751"></path><path d="M75.961 24.0041L82.0045 26.3196"></path></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236C74.9709 38.2049 75.8108 35.5791 75.8108 32.2283C75.8108 29.2229 75.1351 26.6488 73.9344 24.5094C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317C72.7989 11.5386 66.0832 13.5913 63.2681 17.211C61.5952 16.8452 59.8167 16.6619 57.973 16.6619C56.0795 16.6619 54.2549 16.8552 52.5427 17.2409C49.7416 13.6027 42.9938 11.5312 41.176 14.2317C40.0859 15.8512 40.7843 20.9182 41.9084 24.6968C41.003 26.3716 40.4146 28.3065 40.2129 30.5"></path><path d="M82.9458 30.5471L76.8413 31.657"></path><path d="M76.2867 34.4319L81.8362 37.7616"></path><path d="M49.4995 27.8242V30.4999"></path><path d="M67.3374 27.8242V30.4998"></path></g><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317C42.9939 24.5312 49.7417 26.6027 52.5428 30.2409C54.2551 29.8552 56.0796 29.6619 57.9731 29.6619C59.8169 29.6619 61.5953 29.8452 63.2682 30.211C66.0833 26.5913 72.799 24.5386 74.6117 27.2317C75.6839 28.8246 75.0259 33.7525 73.9345 37.5094C74.2013 37.9848 74.4422 38.4817 74.6555 39"></path></g></g></svg>
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-books fa-fw'></i>索引
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fad fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fad fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/archive/
                  
                  
                  
                    id="archive"
                  >
                  <i class='fad fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-link fa-fw'></i>链接
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li class='header'>
                <i class='fad fa-users fa-fw'></i>网上邻居
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  小伙伴和大佬们
                </a>
                
              </li>
            
          
                    
                      
            
              <hr>
            
          
                    
                      
            
              <li class='header'>
                <i class='fad fa-browser fa-fw'></i>多线部署
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://blog.imsyy.top/
                  
                  
                  
                    id="https:blogimsyytop"
                  >
                  Cloudflare 主站
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://hexo.imsyy.top/
                  
                  
                  
                    id="https:hexoimsyytop"
                  >
                  Vercel 镜像站
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://imsyy.gitee.io/
                  
                  
                  
                    id="https:imsyygiteeio"
                  >
                  Gitee 镜像站
                </a>
                
              </li>
            
          
                    
                      
            
              <hr>
            
          
                    
                      
            
              <li class='header'>
                <i class='fad fa-subway fa-fw'></i>友链接力
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://travellings.link
                  
                  
                    target="_blank"
                  
                  
                    id="https:travellingslink"
                  >
                  Travellings
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-file-alt fa-fw'></i>页面
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/music/
                  
                  
                  
                    id="music"
                  >
                  <i class='fad fa-list-music fa-fw'></i>音乐
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/photo/
                  
                  
                  
                    id="photo"
                  >
                  <i class='fad fa-image fa-fw'></i>相册
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/notes/
                  
                  
                  
                    id="notes"
                  >
                  <i class='fad fa-book fa-fw'></i>笔记
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/box/
                  
                  
                  
                    id="box"
                  >
                  <i class='fad fa-box fa-fw'></i>宝盒
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/books/
                  
                  
                  
                    id="books"
                  >
                  <i class='fad fa-books fa-fw'></i>书单
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/game/
                  
                  
                  
                    id="game"
                  >
                  <i class='fad fa-gamepad-alt fa-fw'></i>娱乐
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-tasks-alt fa-fw'></i>管理
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box header toggle-mode-btn">
                  <i class='fad fa-adjust fa-fw'></i>明暗切换
                </a>
              <li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://status.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:statusimsyytop"
                  >
                  <i class='fad fa-monitor-heart-rate fa-fw'></i>站点监测
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://ee.myssl.com/sslcert
                  
                  
                    target="_blank"
                  
                  
                    id="https:eemysslcomsslcert"
                  >
                  <i class='fad fa-lock-alt fa-fw'></i>SSL 管理
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-info-circle fa-fw'></i>关于
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/history/
                  
                  
                  
                    id="history"
                  >
                  <i class='fad fa-history fa-fw'></i>建站史
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/messages/
                  
                  
                  
                    id="messages"
                  >
                  <i class='fad fa-comment-alt-lines fa-fw'></i>留言板
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/thanks/
                  
                  
                  
                    id="thanks"
                  >
                  <i class='fad fa-heart fa-fw'></i>鸣谢板
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fad fa-smile-wink fa-fw'></i>关于我
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
            
            
              
                <li>
                  <a class="menuitem flat-box">
                    <i class='fad fa-compact-disc fa-fw music'></i>音乐
                  </a>
                  <ul class="list-v">
                    <li>
                      <div class="aplayer-container">
                        

  
    <meting-js
      theme='#767676'
      autoplay='false'
      volume='0.7'
      loop='all'
      order='random'
      fixed='false'
      list-max-height='320px'
      server='tencent'
      type='playlist'
      id='7986662494'
      list-folded='true'>
    </meting-js>
  


                      </div>
                    </li>
                  </ul>
                <li>
              
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-angle-double-right fa-fw'></i>更多
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li class='header'>
                <i class='fad fa-browser fa-fw'></i>其他站点
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:imsyytop"
                  >
                  我的主页
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://music.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:musicimsyytop"
                  >
                  聆听音乐
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://photo.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:photoimsyytop"
                  >
                  时光相册
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://lab.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:labimsyytop"
                  >
                  网页实验室
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://web.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:webimsyytop"
                  >
                  网页导航站
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://drive.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:driveimsyytop"
                  >
                  文件分享站
                </a>
                
              </li>
            
          
                    
                      
            
              <hr>
            
          
                    
                      
            
              <li class='header'>
                <i class='fad fa-blog fa-fw'></i>博客分站
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://wp.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:wpimsyytop"
                  >
                  WordPress 分站
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
          
				</ul>
			</div>

      <!--添加天气-->
      <div id="tp-weather-widget"></div>
      <script>
        (function(a,h,g,f,e,d,c,b){b=function(){d=h.createElement(g);c=h.getElementsByTagName(g)[0];d.src=e;d.charset="utf-8";d.async=1;c.parentNode.insertBefore(d,c)};a["SeniverseWeatherWidgetObject"]=f;a[f]||(a[f]=function(){(a[f].q=a[f].q||[]).push(arguments)});a[f].l=+new Date();if(a.attachEvent){a.attachEvent("onload",b)}else{a.addEventListener("load",b,false)}}(window,document,"script","SeniverseWeatherWidget","//cdn.sencdn.com/widget2/static/js/bundle.js?t="+parseInt((new Date().getTime() / 100000000).toString(),10)));
        window.SeniverseWeatherWidget('show', {
          flavor: "slim",
          location: "WX4FBXXFKE4F",
          geolocation: true,
          language: "zh-Hans",
          unit: "c",
          theme: "auto",
          token: "7dbd9b5f-b2b0-4186-b486-d8460a464f79",
          hover: "enabled",
          container: "tp-weather-widget"
        })
      </script>
      <!--添加天气结束-->

      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fad fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="想找点什么~" />
        </form>
      </div>

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fad fa-search fa-fw" target="_self" href='javascript:void(0)'></a></li>
				
				<li>
          <a class="s-menu fad fa-bars fa-fw" target="_self" href='javascript:void(0)'></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-books fa-fw'></i>索引
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/tags/
                  
                  
                  
                    id="tags"
                  >
                  <i class='fad fa-tags fa-fw'></i>标签
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/categories/
                  
                  
                  
                    id="categories"
                  >
                  <i class='fad fa-folder-open fa-fw'></i>分类
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/archive/
                  
                  
                  
                    id="archive"
                  >
                  <i class='fad fa-archive fa-fw'></i>归档
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-link fa-fw'></i>链接
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li class='header'>
                <i class='fad fa-users fa-fw'></i>网上邻居
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/friends/
                  
                  
                  
                    id="friends"
                  >
                  小伙伴和大佬们
                </a>
                
              </li>
            
          
                    
                      
            
              <hr>
            
          
                    
                      
            
              <li class='header'>
                <i class='fad fa-browser fa-fw'></i>多线部署
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://blog.imsyy.top/
                  
                  
                  
                    id="https:blogimsyytop"
                  >
                  Cloudflare 主站
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://hexo.imsyy.top/
                  
                  
                  
                    id="https:hexoimsyytop"
                  >
                  Vercel 镜像站
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://imsyy.gitee.io/
                  
                  
                  
                    id="https:imsyygiteeio"
                  >
                  Gitee 镜像站
                </a>
                
              </li>
            
          
                    
                      
            
              <hr>
            
          
                    
                      
            
              <li class='header'>
                <i class='fad fa-subway fa-fw'></i>友链接力
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://travellings.link
                  
                  
                    target="_blank"
                  
                  
                    id="https:travellingslink"
                  >
                  Travellings
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-file-alt fa-fw'></i>页面
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/music/
                  
                  
                  
                    id="music"
                  >
                  <i class='fad fa-list-music fa-fw'></i>音乐
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/photo/
                  
                  
                  
                    id="photo"
                  >
                  <i class='fad fa-image fa-fw'></i>相册
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/notes/
                  
                  
                  
                    id="notes"
                  >
                  <i class='fad fa-book fa-fw'></i>笔记
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/box/
                  
                  
                  
                    id="box"
                  >
                  <i class='fad fa-box fa-fw'></i>宝盒
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/books/
                  
                  
                  
                    id="books"
                  >
                  <i class='fad fa-books fa-fw'></i>书单
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/game/
                  
                  
                  
                    id="game"
                  >
                  <i class='fad fa-gamepad-alt fa-fw'></i>娱乐
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-tasks-alt fa-fw'></i>管理
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box header toggle-mode-btn">
                  <i class='fad fa-adjust fa-fw'></i>明暗切换
                </a>
              <li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://status.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:statusimsyytop"
                  >
                  <i class='fad fa-monitor-heart-rate fa-fw'></i>站点监测
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://ee.myssl.com/sslcert
                  
                  
                    target="_blank"
                  
                  
                    id="https:eemysslcomsslcert"
                  >
                  <i class='fad fa-lock-alt fa-fw'></i>SSL 管理
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-info-circle fa-fw'></i>关于
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/history/
                  
                  
                  
                    id="history"
                  >
                  <i class='fad fa-history fa-fw'></i>建站史
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/messages/
                  
                  
                  
                    id="messages"
                  >
                  <i class='fad fa-comment-alt-lines fa-fw'></i>留言板
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/thanks/
                  
                  
                  
                    id="thanks"
                  >
                  <i class='fad fa-heart fa-fw'></i>鸣谢板
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=/about/
                  
                  
                  
                    id="about"
                  >
                  <i class='fad fa-smile-wink fa-fw'></i>关于我
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
              
            
              
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" 
                  
                  
                  >
                  <i class='fad fa-angle-double-right fa-fw'></i>更多
                </a>
                
                  <ul class="list-v">
                    
                      
            
              <li class='header'>
                <i class='fad fa-browser fa-fw'></i>其他站点
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:imsyytop"
                  >
                  我的主页
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://music.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:musicimsyytop"
                  >
                  聆听音乐
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://photo.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:photoimsyytop"
                  >
                  时光相册
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://lab.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:labimsyytop"
                  >
                  网页实验室
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://web.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:webimsyytop"
                  >
                  网页导航站
                </a>
                
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://drive.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:driveimsyytop"
                  >
                  文件分享站
                </a>
                
              </li>
            
          
                    
                      
            
              <hr>
            
          
                    
                      
            
              <li class='header'>
                <i class='fad fa-blog fa-fw'></i>博客分站
              </li>
            
          
                    
                      
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover" href=https://wp.imsyy.top/
                  
                  
                    target="_blank"
                  
                  
                    id="https:wpimsyytop"
                  >
                  WordPress 分站
                </a>
                
              </li>
            
          
                    
                  </ul>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>
		</div>
	</div>
  </div>
</header>

  <div id="l_body">
    <div id="l_cover">
  
    
        <div id="full" class='cover-wrapper post blank' style="display: none;">
          
            <div class='cover-bg lazyload placeholder' data-bg=""></div>
          
          
          <div id="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
        </div>
    
  
  </div>

    <div id="safearea">
      <div class="body-wrapper" id="pjax-container">
        

<div class='l_main'>
  <article class="article post white-box reveal md shadow floatable article-type-post" id="post" itemscope itemprop="blogPost">
  


  
    <div class='headimg-div'>
      <a class='headimg-a'>
        <img class='headimg' src='https://img.imsyy.top/post/17857/index2.png'/>
      </a>
    </div>
  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title">
        为你的博客添加弹窗通知
      </h1>
      <div class='new-meta-box'>
        
          
            
<div class='new-meta-item author'>
  <a class='author' href="/" rel="nofollow">
    <img no-lazy src="https://img.imsyy.top/other/avatar.png">
    <p>無名</p>
  </a>
</div>

          
        
          
            
  <div class='new-meta-item category'>
    <a class='notlink'>
      <i class="fad fa-folder-open fa-fw" aria-hidden="true"></i>
      <a class="category-link" href="/categories/%E4%B8%80%E4%BA%9B%E6%95%99%E7%A8%8B/">一些教程</a><span class="sep"></span><a class="category-link" href="/categories/%E7%BE%8E%E5%8C%96%E7%AC%94%E8%AE%B0/">美化笔记</a>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date" itemprop="dateUpdated" datetime="2021-08-10T10:48:32+08:00">
  <a class='notlink'>
    <i class="fad fa-edit fa-fw" aria-hidden="true"></i>
    <p>更新于：2021年8月10日</p>
  </a>
</div>

          
        
          
            
  <div class="new-meta-item browse">
    <a class='notlink'>
      <i class="fad fa-eye fa-fw" aria-hidden="true"></i>
      <p>
        <span id="twikoo_visitors"></span>
      </p>
      </span>
    </a>
  </div>


          
        
          
            
  <div class="new-meta-item wordcount">
    <a class='notlink'>
      <i class="fad fa-keyboard fa-fw" aria-hidden="true"></i>
      <p>字数：3.1k字</p>
    </a>
  </div>
  <div class="new-meta-item readtime">
    <a class='notlink'>
      <i class="fad fa-hourglass-half fa-fw" aria-hidden="true"></i>
      <p>时长：15分钟</p>
    </a>
  </div>


          
        
      </div>
    
  </div>


  
  
  <div class="note warning"><p>本文基于 <code>Hexo</code> + <code>Volantis</code>，文中提到的文件路径可能与您的项目路径并不相同</p></div>
<p>一个锦上添花的小功能，能更直观的向访客展示网站当前状态或显示信息，这篇文章就来说说如何给你的博客添加 <code>izitoast</code> 弹窗通知插件。</p>
<h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><p>可及时反馈操作结果，提升访客浏览体验。弹窗具体样式可参考本站，或点击下方按钮查看一些示例：</p>
<p>
<span class="btn regular" onclick="copy()"><a class="button" title="复制提醒"><i class="fad fa-copy"></i>复制提醒</a></span>
<span class="btn regular" onclick="error()"><a class="button" title="错误提醒"><i class="fad fa-times-circle"></i>错误提醒</a></span>
<span class="btn regular" onclick="music()"><a class="button" title="音乐通知"><i class="fad fa-play-circle"></i>音乐通知</a></span>
<span class="btn regular" onclick="full()"><a class="button" title="全屏通知"><i class="fad fa-expand-arrows-alt"></i>全屏通知</a></span>
<span class="btn regular" onclick="all1()"><a class="button" title="常驻通知"><i class="fad fa-comment-alt-smile"></i>常驻通知</a></span>
</p>

<div class="tag link"><a class="link-card" title="izitoast" target="_blank" rel="noopener" href="https://github.com/marcelodolza/iziToast"><div class="left"><img src="https://img.imsyy.top/logo/github.png" class="lazyload placeholder" data-srcset="https://img.imsyy.top/logo/github.png" srcset="https://fastly.jsdelivr.net/gh/volantis-x/cdn-volantis@3/img/placeholder/c617bfd2497fcea598e621413e315c368f8d8e.svg"/></div><div class="right"><p class="text">izitoast</p><p class="url">https://github.com/marcelodolza/iziToast</p></div></a></div>

<h2 id="引入文件"><a href="#引入文件" class="headerlink" title="引入文件"></a>引入文件</h2><div class="note quote"><p>最新的 <code>Volantis dev</code> 版本已经内置该弹窗，具体操作步骤请参考官方配置文档，此处不再赘述</p></div>
<p>这里有两种引入方法，分为外部引入和本地引入。为了不改动源码，最好还是选择外部引入方式。</p>
<p><code>Volantis</code> 主题用户可直接在根目录下的 <code>_config.yml</code> 中添加以下代码：</p>
<figure class="highlight yml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">import:</span></span><br><span class="line">  <span class="attr">link:</span></span><br><span class="line">    <span class="comment"># 引入 izitoast 弹窗</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/css/iziToast.min.css&quot;&gt;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">defer</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/js/iziToast.min.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>
<p>其他情况请将此代码引入合适的地方：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/css/iziToast.min.css&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/js/iziToast.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="添加弹窗"><a href="#添加弹窗" class="headerlink" title="添加弹窗"></a>添加弹窗</h2><h3 id="避免冲突"><a href="#避免冲突" class="headerlink" title="避免冲突"></a>避免冲突</h3><p>下面的操作涉及修改源码，若不进行正确操作，则可能会在更新主题时遇到与官方分支相差太大从而无法更新，所以在修改时最好做好记录，以便在发生冲突时及时找到原因。</p>
<details ><summary> 一个避免合并冲突的小方法 </summary>
              <div class='content'>
              <p>若你使用的是 <code>Volantis</code> 主题，关于下文提到的在 <code>&lt;/body&gt;</code> 标签前加入代码，可在 <code>themes\volantis\layout\_partial\scripts</code> 目录下新建一个 <code>custom.ejs</code> ( 名称随意 ) 文件，并在 <code>themes\volantis\layout\_partial\scripts\index.ejs</code> 中添加</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(<span class="string">&#x27;custom&#x27;</span>) %&gt;</span><br></pre></td></tr></table></figure><p>后续的 <code>&lt;script&gt;</code> 代码都可以写进该文件。</p>
              </div>
            </details>

<p>你也可以参考该 <code>issues</code> 来正确修改主题。</p>
<div class="tag link"><a class="link-card" title="如何正确地更新主题" target="_blank" rel="noopener" href="https://github.com/volantis-x/hexo-theme-volantis/issues/459"><div class="left"><img src="https://img.imsyy.top/logo/github.png" class="lazyload placeholder" data-srcset="https://img.imsyy.top/logo/github.png" srcset="https://fastly.jsdelivr.net/gh/volantis-x/cdn-volantis@3/img/placeholder/c617bfd2497fcea598e621413e315c368f8d8e.svg"/></div><div class="right"><p class="text">如何正确地更新主题</p><p class="url">https://github.com/volantis-x/hexo-theme-volantis/issues/459</p></div></a></div>

<h3 id="复制提醒"><a href="#复制提醒" class="headerlink" title="复制提醒"></a>复制提醒</h3><p>在 <code>&lt;/body&gt;</code> 标签前加入以下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">document</span>.body.oncopy = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        iziToast.info(&#123;</span><br><span class="line">            <span class="attr">timeout</span>: <span class="number">4000</span>, <span class="comment">// 关闭弹窗的时间</span></span><br><span class="line">            <span class="attr">icon</span>: <span class="string">&#x27;Fontawesome&#x27;</span>, <span class="comment">// 图标类别</span></span><br><span class="line">            <span class="attr">closeOnEscape</span>: <span class="string">&#x27;true&#x27;</span>, <span class="comment">// 允许使用Esc键关闭弹窗</span></span><br><span class="line">            <span class="attr">transitionIn</span>: <span class="string">&#x27;bounceInLeft&#x27;</span>, <span class="comment">// 弹窗打开动画</span></span><br><span class="line">            <span class="attr">transitionOut</span>: <span class="string">&#x27;fadeOutRight&#x27;</span>, <span class="comment">// 弹窗关闭动画</span></span><br><span class="line">            <span class="attr">displayMode</span>: <span class="string">&#x27;replace&#x27;</span>, <span class="comment">// 替换已经打开的弹窗</span></span><br><span class="line">            <span class="attr">layout</span>: <span class="string">&#x27;2&#x27;</span>, <span class="comment">// Medium模式</span></span><br><span class="line">            <span class="attr">position</span>: <span class="string">&#x27;topRight&#x27;</span>, <span class="comment">// 弹窗位置</span></span><br><span class="line">            <span class="attr">icon</span>: <span class="string">&#x27;fad fa-copy&#x27;</span>, <span class="comment">// 图标类名</span></span><br><span class="line">            <span class="attr">backgroundColor</span>: <span class="string">&#x27;#fff&#x27;</span>, <span class="comment">// 弹窗背景色</span></span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;复制成功&#x27;</span>, <span class="comment">// 通知标题</span></span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;请遵守 CC BY-NC-SA 4.0 协议&#x27;</span> <span class="comment">// 通知消息内容</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="音乐通知"><a href="#音乐通知" class="headerlink" title="音乐通知"></a>音乐通知</h3><div class="note warning"><p>音乐通知弹窗目前仅适用于 <code>Volantis</code> 主题</p></div>

<p>在 <code>themes\volantis\source\js\aplayer.js</code> 文件的 <strong>34</strong> 行后添加：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> index = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;meting-js&#x27;</span>).aplayer.list.index;</span><br><span class="line"><span class="keyword">var</span> title = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;meting-js&#x27;</span>).aplayer.list.audios[index].title;</span><br><span class="line"><span class="keyword">var</span> artist = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;meting-js&#x27;</span>).aplayer.list.audios[index].artist;</span><br><span class="line">iziToast.info(&#123;</span><br><span class="line">    <span class="attr">timeout</span>: <span class="number">4000</span>,</span><br><span class="line">    <span class="attr">icon</span>: <span class="string">&#x27;Fontawesome&#x27;</span>,</span><br><span class="line">    <span class="attr">closeOnEscape</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">    <span class="attr">transitionOut</span>: <span class="string">&#x27;fadeOutRight&#x27;</span>,</span><br><span class="line">    <span class="attr">displayMode</span>: <span class="string">&#x27;replace&#x27;</span>,</span><br><span class="line">    <span class="attr">layout</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">    <span class="attr">transitionIn</span>: <span class="string">&#x27;bounceInLeft&#x27;</span>,</span><br><span class="line">    <span class="attr">position</span>: <span class="string">&#x27;topRight&#x27;</span>,</span><br><span class="line">    <span class="attr">icon</span>: <span class="string">&#x27;fad fa-play-circle&#x27;</span>,</span><br><span class="line">    <span class="attr">backgroundColor</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;音乐通知&#x27;</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;正在播放：&#x27;</span> + title + <span class="string">&#x27; - &#x27;</span> + artist</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="特殊纪念日通知"><a href="#特殊纪念日通知" class="headerlink" title="特殊纪念日通知"></a>特殊纪念日通知</h3><div class="note warning"><p>进行这一步前请确定已经引入了 <code>iziToast</code> 弹窗</p></div>
<p>在 <code>&lt;/body&gt;</code> 标签前加入以下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="built_in">Date</span>;</span><br><span class="line">    <span class="keyword">var</span> mon = myDate.getMonth() + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> date = myDate.getDate();</span><br><span class="line">    <span class="keyword">var</span> days = [<span class="string">&#x27;4.4&#x27;</span>, <span class="string">&#x27;5.12&#x27;</span>, <span class="string">&#x27;7.7&#x27;</span>, <span class="string">&#x27;9.9&#x27;</span>, <span class="string">&#x27;9.18&#x27;</span>, <span class="string">&#x27;12.13&#x27;</span>]; <span class="comment">// 自定义纪念日</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> day <span class="keyword">of</span> days) &#123;</span><br><span class="line">        <span class="keyword">var</span> d = day.split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (mon == d[<span class="number">0</span>] &amp;&amp; date == d[<span class="number">1</span>]) &#123;</span><br><span class="line">            iziToast.info(&#123;</span><br><span class="line">                <span class="attr">timeout</span>: <span class="number">14000</span>,</span><br><span class="line">                <span class="attr">icon</span>: <span class="string">&#x27;Fontawesome&#x27;</span>,</span><br><span class="line">                <span class="attr">closeOnEscape</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">                <span class="attr">transitionOut</span>: <span class="string">&#x27;fadeOutRight&#x27;</span>,</span><br><span class="line">                <span class="attr">layout</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">                <span class="attr">transitionIn</span>: <span class="string">&#x27;bounceInLeft&#x27;</span>,</span><br><span class="line">                <span class="attr">position</span>: <span class="string">&#x27;topRight&#x27;</span>,</span><br><span class="line">                <span class="attr">icon</span>: <span class="string">&#x27;fad fa-candle-holder&#x27;</span>,</span><br><span class="line">                <span class="attr">backgroundColor</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">                <span class="attr">title</span>: <span class="string">&#x27;今天是国家纪念日&#x27;</span>,</span><br><span class="line">                <span class="attr">message</span>: <span class="string">&#x27;历史不会忘记，人民永远铭记！&lt;p style=&quot;margin-top: 4px;&quot;&gt;全站已切换为黑白模式&lt;/p&gt;&#x27;</span></span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="built_in">document</span>.write(<span class="string">&#x27;&lt;style&gt;html&#123;-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);_filter:none&#125;&lt;/style&gt;&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="自动明暗切换通知"><a href="#自动明暗切换通知" class="headerlink" title="自动明暗切换通知"></a>自动明暗切换通知</h3><div class="note warning"><p>进行这一步前请对源文件做好备份并且确定已经引入了 <code>iziToast</code> 弹窗</p></div>
<p>使用下方代码替换 <code>themes\volantis\layout\_partial\scripts\darkmode.ejs</code></p>
<details ><summary> 自动夜间模式 + iziToast 弹窗适配 </summary>
              <div class='content'>
              <figure class="highlight js"><figcaption><span>themes\volantis\layout\_partial\scripts\darkmode.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--自动夜间模式--&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Colsrch/CDN@master/judge_time/js.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">const rootElement = document.documentElement;</span><br><span class="line">const darkModeStorageKey = &quot;user-color-scheme&quot;;</span><br><span class="line">const rootElementDarkModeAttributeName = &quot;data-user-color-scheme&quot;;</span><br><span class="line"></span><br><span class="line">const setLS = (k, v) =&gt; &#123;</span><br><span class="line">    localStorage.setItem(k, v);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const removeLS = (k) =&gt; &#123;</span><br><span class="line">    localStorage.removeItem(k);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const getLS = (k) =&gt; &#123;</span><br><span class="line">    return localStorage.getItem(k);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const getModeFromCSSMediaQuery = () =&gt; &#123;</span><br><span class="line">  return window.matchMedia(&quot;(prefers-color-scheme: dark)&quot;).matches</span><br><span class="line">    ? &quot;dark&quot;</span><br><span class="line">    : &quot;light&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const resetRootDarkModeAttributeAndLS = () =&gt; &#123;</span><br><span class="line">  rootElement.removeAttribute(rootElementDarkModeAttributeName);</span><br><span class="line">  removeLS(darkModeStorageKey);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const validColorModeKeys = &#123;</span><br><span class="line">  dark: true,</span><br><span class="line">  light: true,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const applyCustomDarkModeSettings = (mode) =&gt; &#123;</span><br><span class="line">  const currentSetting = mode || getLS(darkModeStorageKey);</span><br><span class="line"></span><br><span class="line">  if (currentSetting === getModeFromCSSMediaQuery()) &#123;</span><br><span class="line">    resetRootDarkModeAttributeAndLS();</span><br><span class="line">  &#125; else if (validColorModeKeys[currentSetting]) &#123;</span><br><span class="line">    rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    resetRootDarkModeAttributeAndLS();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const invertDarkModeObj = &#123;</span><br><span class="line">  dark: &quot;light&quot;,</span><br><span class="line">  light: &quot;dark&quot;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * get target mode</span><br><span class="line"> */</span><br><span class="line">const toggleCustomDarkMode = () =&gt; &#123;</span><br><span class="line">  let currentSetting = getLS(darkModeStorageKey);</span><br><span class="line"></span><br><span class="line">  if (validColorModeKeys[currentSetting]) &#123;</span><br><span class="line">    currentSetting = invertDarkModeObj[currentSetting];</span><br><span class="line">  &#125; else if (currentSetting === null) &#123;</span><br><span class="line">    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">  setLS(darkModeStorageKey, currentSetting);</span><br><span class="line">  return currentSetting;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * bind click event for toggle button</span><br><span class="line"> */</span><br><span class="line">var btn=$(&quot;#wrapper .toggle-mode-btn,#rightmenu-wrapper .toggle-mode-btn&quot;);</span><br><span class="line">function bindToggleButton() &#123;</span><br><span class="line">    btn.on(&#x27;click&#x27;,(e) =&gt; &#123;</span><br><span class="line">      const mode = toggleCustomDarkMode();</span><br><span class="line">      applyCustomDarkModeSettings(mode);</span><br><span class="line">      // 添加弹窗</span><br><span class="line">      iziToast.info(&#123;</span><br><span class="line">            timeout: 4000, //调试</span><br><span class="line">            icon: &#x27;Fontawesome&#x27;,</span><br><span class="line">            closeOnEscape: &#x27;true&#x27;,</span><br><span class="line">            transitionOut: &#x27;fadeOutRight&#x27;,</span><br><span class="line">            displayMode: &#x27;replace&#x27;,</span><br><span class="line">            layout: &#x27;2&#x27;,</span><br><span class="line">            transitionIn: &#x27;bounceInLeft&#x27;,</span><br><span class="line">            position: &#x27;topRight&#x27;,</span><br><span class="line">            icon: &#x27;fad fa-adjust&#x27;,</span><br><span class="line">            backgroundColor: &#x27;#fff&#x27;,</span><br><span class="line">            title: &#x27;明暗切换&#x27;,</span><br><span class="line">            message: &#x27;已手动切换明暗模式&#x27;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">applyCustomDarkModeSettings();</span><br><span class="line">document.addEventListener(&quot;DOMContentLoaded&quot;, bindToggleButton);</span><br><span class="line">volantis.pjax.push(bindToggleButton);</span><br><span class="line">volantis.pjax.send(()=&gt;&#123;</span><br><span class="line">	btn.unbind(&#x27;click&#x27;);</span><br><span class="line">&#125;,&#x27;toggle-mode-btn-unbind&#x27;);</span><br><span class="line"></span><br><span class="line">/*添加代码*/</span><br><span class="line">// 自动夜间模式</span><br><span class="line">if (navigator.geolocation) &#123;   //获取地理位置 用于判断日出日落时间</span><br><span class="line">    navigator.geolocation.getCurrentPosition(</span><br><span class="line">      function (position) &#123;</span><br><span class="line">        var res = computeSunRiseSunSet(position.coords.latitude, position.coords.longitude, 8);</span><br><span class="line">        console.log(res.str)</span><br><span class="line">        adjust_time(res.strSunRise, res.strSunSet, &quot;08:00&quot;, &quot;12:00&quot;, &quot;14:00&quot;, &quot;23:00&quot;)</span><br><span class="line">      &#125;,</span><br><span class="line">      function (e) &#123;</span><br><span class="line">        adjust_time(&quot;7:00&quot;, &quot;17:30&quot;, &quot;08:00&quot;, &quot;12:00&quot;, &quot;14:00&quot;, &quot;23:00&quot;)  //未允许获取地理位置时，使用默认时间</span><br><span class="line">        console.log(&quot;未允许获取地理位置，使用默认配置时间&quot;)</span><br><span class="line">        iziToast.info(&#123;</span><br><span class="line">            timeout: 6000, //调试</span><br><span class="line">            icon: &#x27;Fontawesome&#x27;,</span><br><span class="line">            closeOnEscape: &#x27;true&#x27;,</span><br><span class="line">            transitionOut: &#x27;fadeOutRight&#x27;,</span><br><span class="line">            displayMode: &#x27;replace&#x27;,</span><br><span class="line">            layout: &#x27;2&#x27;,</span><br><span class="line">            transitionIn: &#x27;bounceInLeft&#x27;,</span><br><span class="line">            position: &#x27;topRight&#x27;,</span><br><span class="line">            icon: &#x27;fad fa-times-circle&#x27;,</span><br><span class="line">            backgroundColor: &#x27;#fff&#x27;,</span><br><span class="line">            title: &#x27;权限获取错误&#x27;,</span><br><span class="line">            message: &#x27;未允许获取地理位置&lt;p style=&quot;margin-top: 4px;&quot;&gt;将使用默认配置时间&lt;/p&gt;&#x27;</span><br><span class="line">        &#125;);</span><br><span class="line">        throw (e.message);</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">function adjust_time(beginTime, endTime, morningTime, noonTime, afternoonTime, nightTime) &#123;</span><br><span class="line">  const rootElement = document.documentElement;</span><br><span class="line">  var strb = beginTime.split(&quot;:&quot;);</span><br><span class="line">  if (strb.length != 2) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var stre = endTime.split(&quot;:&quot;);</span><br><span class="line">  if (stre.length != 2) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var strmorning = morningTime.split(&quot;:&quot;);   //12点</span><br><span class="line">  if (stre.length != 2) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var strnoon = noonTime.split(&quot;:&quot;);   //12点</span><br><span class="line">  if (stre.length != 2) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var strafternoon = afternoonTime.split(&quot;:&quot;);   //13点</span><br><span class="line">  if (stre.length != 2) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var strnight = nightTime.split(&quot;:&quot;);   //23点</span><br><span class="line">  if (stre.length != 2) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var b = new Date();</span><br><span class="line">  var e = new Date();</span><br><span class="line">  var n = new Date();</span><br><span class="line">  var morning = new Date();</span><br><span class="line">  var noon = new Date();</span><br><span class="line">  var afternoon = new Date();</span><br><span class="line">  var night = new Date();</span><br><span class="line"></span><br><span class="line">  b.setHours(strb[0]);</span><br><span class="line">  b.setMinutes(strb[1]);</span><br><span class="line">  e.setHours(stre[0]);</span><br><span class="line">  e.setMinutes(stre[1]);</span><br><span class="line">  morning.setHours(strmorning[0]);</span><br><span class="line">  morning.setMinutes(strmorning[1]);</span><br><span class="line">  noon.setHours(strnoon[0]);</span><br><span class="line">  noon.setMinutes(strnoon[1]);</span><br><span class="line">  afternoon.setHours(strafternoon[0]);</span><br><span class="line">  afternoon.setMinutes(strafternoon[1]);</span><br><span class="line">  night.setHours(strnight[0]);</span><br><span class="line">  night.setMinutes(strnight[1]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  $.getJSON(&quot;https://v1.hitokoto.cn?max_length=15&quot;, function (hitokoto) &#123;</span><br><span class="line">    //在这里面处理获得的数据</span><br><span class="line">    if (n.getTime() - b.getTime() &gt; 0 &amp;&amp; n.getTime() - e.getTime() &lt; 0) &#123;</span><br><span class="line">      var daytimetitle = &#x27;&#x27;</span><br><span class="line">      var daytimemessage = &#x27;&#x27;</span><br><span class="line">      if (n.getTime() - morning.getTime() &lt; 0) &#123;</span><br><span class="line">        // 早上</span><br><span class="line">        daytimetitle = &#x27;早安&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      else if (n.getTime() - noon.getTime() &lt; 0) &#123;</span><br><span class="line">        // 上午</span><br><span class="line">        daytimetitle = &#x27;上午好&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      else if (n.getTime() - afternoon.getTime() &lt; 0) &#123;</span><br><span class="line">        // 中午</span><br><span class="line">        daytimetitle = &#x27;中午好&#x27;</span><br><span class="line">        daytimemessage = &#x27;&lt;br&gt;要注意休息哦~&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      else &#123;</span><br><span class="line">        // 下午</span><br><span class="line">        daytimetitle = &#x27;下午好&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      // 判断是否已经开启夜间模式</span><br><span class="line">      if (rootElement.getAttribute(&#x27;data-user-color-scheme&#x27;, &#x27;dark&#x27;)) &#123;</span><br><span class="line">        // 已开启夜间模式，修改按钮状态</span><br><span class="line">        iziToast.info(&#123;</span><br><span class="line">            timeout: 4000, //调试</span><br><span class="line">            icon: &#x27;Fontawesome&#x27;,</span><br><span class="line">            closeOnEscape: &#x27;true&#x27;,</span><br><span class="line">            transitionOut: &#x27;fadeOutRight&#x27;,</span><br><span class="line">            displayMode: &#x27;replace&#x27;,</span><br><span class="line">            layout: &#x27;2&#x27;,</span><br><span class="line">            transitionIn: &#x27;bounceInLeft&#x27;,</span><br><span class="line">            position: &#x27;topRight&#x27;,</span><br><span class="line">            icon: &#x27;fad fa-sun&#x27;,</span><br><span class="line">            backgroundColor: &#x27;#fff&#x27;,</span><br><span class="line">            title: &#x27;日间模式切换&#x27;,</span><br><span class="line">            message: daytimetitle + &#x27;，已自动为您切换为日间模式&#x27;</span><br><span class="line">        &#125;);</span><br><span class="line">        const mode = toggleCustomDarkMode();</span><br><span class="line">        applyCustomDarkModeSettings(mode);</span><br><span class="line">      &#125;</span><br><span class="line">      else &#123;</span><br><span class="line">        // 未开启夜间模式，不执行操作</span><br><span class="line">        iziToast.info(&#123;</span><br><span class="line">            timeout: 4000, //调试</span><br><span class="line">            icon: &#x27;Fontawesome&#x27;,</span><br><span class="line">            closeOnEscape: &#x27;true&#x27;,</span><br><span class="line">            transitionOut: &#x27;fadeOutRight&#x27;,</span><br><span class="line">            displayMode: &#x27;replace&#x27;,</span><br><span class="line">            layout: &#x27;2&#x27;,</span><br><span class="line">            transitionIn: &#x27;bounceInLeft&#x27;,</span><br><span class="line">            position: &#x27;topRight&#x27;,</span><br><span class="line">            icon: &#x27;fad fa-comment-alt-smile&#x27;,</span><br><span class="line">            backgroundColor: &#x27;#fff&#x27;,</span><br><span class="line">            title: daytimetitle + &#x27;呀&#x27;,</span><br><span class="line">            message: hitokoto.hitokoto</span><br><span class="line">        &#125;);</span><br><span class="line">        return true;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      // 晚上</span><br><span class="line">      var nighttitle = &#x27;&#x27;</span><br><span class="line">      var nightmessage = &#x27;&#x27;</span><br><span class="line">      if (night.getTime() - n.getTime() &lt; 0 || n.getTime() - b.getTime() &lt; 0) &#123;</span><br><span class="line">        nighttitle = &#x27;夜深了&#x27;</span><br><span class="line">        nightmessage = &#x27;&lt;br&gt;该睡觉啦~&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      else &#123;</span><br><span class="line">        nighttitle = &#x27;晚上好&#x27;</span><br><span class="line">        nightmessage = &#x27;&lt;br&gt;吃晚饭了吗？要注意眼睛哦。&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      // 判断是否已经开启夜间模式</span><br><span class="line">      if (rootElement.getAttribute(&#x27;data-user-color-scheme&#x27;, &#x27;dark&#x27;)) &#123;</span><br><span class="line">        // 已开启夜间模式，不执行操作</span><br><span class="line">        iziToast.info(&#123;</span><br><span class="line">            timeout: 4000, //调试</span><br><span class="line">            icon: &#x27;Fontawesome&#x27;,</span><br><span class="line">            closeOnEscape: &#x27;true&#x27;,</span><br><span class="line">            transitionOut: &#x27;fadeOutRight&#x27;,</span><br><span class="line">            displayMode: &#x27;replace&#x27;,</span><br><span class="line">            layout: &#x27;2&#x27;,</span><br><span class="line">            transitionIn: &#x27;bounceInLeft&#x27;,</span><br><span class="line">            position: &#x27;topRight&#x27;,</span><br><span class="line">            icon: &#x27;fad fa-comment-alt-smile&#x27;,</span><br><span class="line">            backgroundColor: &#x27;#fff&#x27;,</span><br><span class="line">            title: nighttitle + &#x27;呀&#x27;,</span><br><span class="line">            message: hitokoto.hitokoto</span><br><span class="line">        &#125;);</span><br><span class="line">        return true;</span><br><span class="line">      &#125;</span><br><span class="line">      else &#123;</span><br><span class="line">        // 未开启夜间模式，修改按钮状态</span><br><span class="line">         iziToast.info(&#123;</span><br><span class="line">            timeout: 4000, //调试</span><br><span class="line">            icon: &#x27;Fontawesome&#x27;,</span><br><span class="line">            closeOnEscape: &#x27;true&#x27;,</span><br><span class="line">            transitionOut: &#x27;fadeOutRight&#x27;,</span><br><span class="line">            displayMode: &#x27;replace&#x27;,</span><br><span class="line">            layout: &#x27;2&#x27;,</span><br><span class="line">            transitionIn: &#x27;bounceInLeft&#x27;,</span><br><span class="line">            position: &#x27;topRight&#x27;,</span><br><span class="line">            icon: &#x27;fas fa-moon&#x27;,</span><br><span class="line">            backgroundColor: &#x27;#fff&#x27;,</span><br><span class="line">            title: &#x27;夜间模式切换&#x27;,</span><br><span class="line">            message: nighttitle + &#x27;，已自动为您切换为夜间模式&#x27;</span><br><span class="line">        &#125;);</span><br><span class="line">        const mode = toggleCustomDarkMode();</span><br><span class="line">        applyCustomDarkModeSettings(mode);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h2 id="其他方面"><a href="#其他方面" class="headerlink" title="其他方面"></a>其他方面</h2><h3 id="配置项"><a href="#配置项" class="headerlink" title="配置项"></a>配置项</h3><p>这里列出一些经常需要的参数</p>
<div class="table"><table>
<thead>
<tr>
<th align="center">对象</th>
<th align="center">默认值</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">title</td>
<td align="center">/</td>
<td align="center">弹窗的标题</td>
</tr>
<tr>
<td align="center">message</td>
<td align="center">/</td>
<td align="center">弹窗的消息</td>
</tr>
<tr>
<td align="center">timeout</td>
<td align="center"><code>5000</code></td>
<td align="center">关闭弹窗的时间（ 以毫秒为单位 ）, <code>false</code> 则常驻</td>
</tr>
<tr>
<td align="center">icon</td>
<td align="center">/</td>
<td align="center">图标类（ 您选择的字体图标, Icomoon, Fontawesome 等 ）</td>
</tr>
<tr>
<td align="center">layout</td>
<td align="center"><code>1</code> / <code>2</code></td>
<td align="center">弹窗的样式（ 单行 / 双行 ）</td>
</tr>
<tr>
<td align="center">displayMode</td>
<td align="center"><code>0 </code></td>
<td align="center">等待直到弹窗关闭，您才能将其打开（ 使用 <code>1</code> ）<br>替换已经打开的弹窗（ 使用 <code>replace</code> ）</td>
</tr>
<tr>
<td align="center">position</td>
<td align="center"><code>bottomRight</code></td>
<td align="center">默认的弹窗显示位置<br><code>bottomRight</code>,<code>bottomLeft</code>,<code>topRight</code>, <code>topLeft</code>,<code>topCenter</code>, <code>bottomCenter</code>,<code>center</code></td>
</tr>
<tr>
<td align="center">transitionIn</td>
<td align="center"><code>fadeInUp</code></td>
<td align="center">默认的弹窗打开动画<br><code>bounceInLeft</code>, <code>bounceInRight</code>, <code>bounceInUp</code>, <code>bounceInDown</code>, <code>fadeIn</code>, <code>fadeInDown</code>, <code>fadeInUp</code>, <code>fadeInLeft</code>, <code>fadeInRight</code>, <code>flipInX</code></td>
</tr>
<tr>
<td align="center">transitionOut</td>
<td align="center"><code>fadeOut</code></td>
<td align="center">默认的弹窗关闭动画<br><code>fadeOut</code>, <code>fadeOutUp</code>, <code>fadeOutDown</code>, <code>fadeOutLeft</code>, <code>fadeOutRight</code>, <code>flipOutX</code></td>
</tr>
</tbody></table>
</div>

<h3 id="弹窗美化"><a href="#弹窗美化" class="headerlink" title="弹窗美化"></a>弹窗美化</h3><p><strong>阴影优化</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.iziToast</span>:after &#123;</span><br><span class="line">    box-shadow: <span class="number">0</span> <span class="number">2px</span> <span class="number">12px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.iziToast-message</span><span class="selector-class">.slideIn</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">5px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>夜间模式适配</strong></p>
<div class="note warning"><p>写入暗黑模式样式中，不可写入主CSS</p></div>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.iziToast</span>:after &#123;</span><br><span class="line">    border-radius: <span class="number">8px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.iziToast</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span> none repeat scroll <span class="number">0</span> <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.iziToast-title</span><span class="selector-class">.slideIn</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#aaa</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.iziToast-message</span><span class="selector-class">.slideIn</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#aaa</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.iziToast-icon</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#aaa</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.iziToast</span> &gt; <span class="selector-class">.iziToast-progressbar</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">51</span>, <span class="number">51</span>, <span class="number">51</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.iziToast</span> &gt; <span class="selector-class">.iziToast-progressbar</span> &gt; <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">170</span>, <span class="number">170</span>, <span class="number">170</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.iziToast</span> &gt; <span class="selector-class">.iziToast-close</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/imsyy/file/pic/close.png</span>) no-repeat <span class="number">50%</span> <span class="number">50%</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">8px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<script>
    function copy(){
        iziToast.info({
            timeout: 4000,
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-copy',
            backgroundColor: '#fff',
            title: '复制成功',
            message: '请遵守 CC BY-NC-SA 4.0 协议'
        });
    }
    function error(){
        iziToast.info({
            timeout: 4000,
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-times-circle',
            backgroundColor: '#fff',
            title: '错误提示',
            message: '页面加载失败，正在重试'
        });
    }
    function music(){
        iziToast.info({
            timeout: 4000,
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-play-circle',
            backgroundColor: '#fff',
            title: '音乐通知',
            message: '音乐即将开始播放'
        });
    }
    function full(){
        iziToast.info({
            timeout: 4000,
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            displayMode: '2',
            layout: '2',
            overlay: 'true',
            overlayClose: 'true',
            position: 'center',
            transitionIn: 'flipInX',
            transitionOut: 'flipOutX',
            icon: 'fad fa-expand-arrows-alt',
            backgroundColor: '#fff',
            title: '全屏通知',
            message: '点击弹窗外区域可关闭'
        });
    }
    function all1(){
        iziToast.info({
            timeout: false,
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-comment-alt-smile',
            backgroundColor: '#fff',
            title: '你好呀',
            message: '欢迎访问本站 ~'
        });
    }
</script>
  
  
    
    <div class='footer'>
      
        <div class='references'>
          <section class='header'>
            
              <i class="fad fa-quote-left fa-fw" aria-hidden="true"></i>
            
            <span>参考资料</span>
          </section>
          <section class='body'>
            <ul>
              
                <li>
                  <a href="https://www.izitoast.cn/" rel="external nofollow noopener noreferrer" target="_blank">
                  Izitoast 中文网
                  </a>
                </li>
              
                <li>
                  <a href="https://colsrch.cn/posts/72bb5148/" rel="external nofollow noopener noreferrer" target="_blank">
                  如何给博客添加弹窗通知 - Colsrch
                  </a>
                </li>
              
                <li>
                  <a href="https://colsrch.cn/posts/9eae9d7b/" rel="external nofollow noopener noreferrer" target="_blank">
                  给你的博客实现自动夜间模式 - Colsrch
                  </a>
                </li>
              
            </ul>
          </section>
        </div>
      
      
      
        <div class='copyright'>
          <blockquote>
            
              
                <p><strong><i class="fad fa-copyright"></i> 版权声明</strong><p>本博客所有文章除特别声明外，均采用 <a href="/copyright/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</p></p>

              
            
              
                <p>本文的永久链接为：<a href=https://blog.imsyy.top/posts/17857/>https://blog.imsyy.top/posts/17857/</a></p>
              
            
          </blockquote>
        </div>
      
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fad fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>发布于：2021年8月6日</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E7%BE%8E%E5%8C%96/" rel="nofollow"><i class="fad fa-hashtag fa-fw" aria-hidden="true"></i><p>美化</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E6%95%99%E7%A8%8B/" rel="nofollow"><i class="fad fa-hashtag fa-fw" aria-hidden="true"></i><p>教程</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/izitoast/" rel="nofollow"><i class="fad fa-hashtag fa-fw" aria-hidden="true"></i><p>izitoast</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E5%BC%B9%E7%AA%97/" rel="nofollow"><i class="fad fa-hashtag fa-fw" aria-hidden="true"></i><p>弹窗</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E5%BC%B9%E7%AA%97%E9%80%9A%E7%9F%A5/" rel="nofollow"><i class="fad fa-hashtag fa-fw" aria-hidden="true"></i><p>弹窗通知</p></a></div>


        
      
    </div>
  </div>


  
  

  
    <div class="prev-next">
      
      
        <a class='next' href='/posts/58122/'>
          <p class='title'>Flex 布局教程 - 实例详解<i class="fas fa-chevron-right" aria-hidden="true"></i></p>
          <!--<p class='content'>本文介绍了 Flex 布局的实例部分，常见 Flex 布局的语法请查看 这里本文转载自 阮一峰的网络日志 ，并且在原文基础上作出了一些修改

骰子布局骰子的一面，最多可以放置9个点


下面，就...</p>-->
          <p class='content'>上一篇文章介绍了 Flex 布局的语法，这篇介绍一下常见布局的 Flex 写法</p>
        </a>
      
    </div>
  
</article>


  

  <article class="post white-box reveal shadow floatable" id="comments">
    <p ct><i class="fa-duotone fa-comment-lines"></i> <b><font style="font-size:18px">评论区</font></b> <font  style="font-size:15px" color="#BEBEBE">  请大家友善讨论哦</font></p>
    
    <div id="twikoo_container">
  <i class="fas fa-cog fa-spin fa-fw fa-2x"></i>
</div>

  </article>






</div>
<aside class='l_side'>
  
  
    
    



  <section class="widget toc-wrapper shadow floatable desktop mobile" id="toc-div" >
    
  <header>
    
      <i class="fad fa-list fa-fw" aria-hidden="true"></i><span class='name'>本文目录</span>
    
  </header>


    <div class='content'>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D"><span class="toc-text">功能介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-text">引入文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%BC%B9%E7%AA%97"><span class="toc-text">添加弹窗</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E5%86%B2%E7%AA%81"><span class="toc-text">避免冲突</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E6%8F%90%E9%86%92"><span class="toc-text">复制提醒</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90%E9%80%9A%E7%9F%A5"><span class="toc-text">音乐通知</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E7%BA%AA%E5%BF%B5%E6%97%A5%E9%80%9A%E7%9F%A5"><span class="toc-text">特殊纪念日通知</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%98%8E%E6%9A%97%E5%88%87%E6%8D%A2%E9%80%9A%E7%9F%A5"><span class="toc-text">自动明暗切换通知</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%96%B9%E9%9D%A2"><span class="toc-text">其他方面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-text">配置项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%B9%E7%AA%97%E7%BE%8E%E5%8C%96"><span class="toc-text">弹窗美化</span></a></li></ol></li></ol>
    </div>
  </section>


  


</aside>



        
        <!--此文件用来存放一些不方便取值的变量-->
<!--思路大概是将值藏到重加载的区域内-->

<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.postTitle="为你的博客添加弹窗通知";
  pdata.commentPath="";
  pdata.commentPlaceholder="";
  // header 这里无论是否开启pjax都需要
  var l_header=document.getElementById("l_header");
  
  l_header.classList.add("show");
  
  
    // cover
    var cover_wrapper=document.querySelector('.cover-wrapper');
    
    cover_wrapper.id="none";
    cover_wrapper.style.display="none";
    
  
</script>

      </div>
      
  
  <footer class="footer clearfix">
    <br><br>
    
      
        <br>
        <div class="social-wrapper">
          
            
              <a href="/atom.xml"
                class="social fad fa-rss flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
                
              </a>
            
          
            
              <a href="mailto:one@imsyy.top"
                class="social fad fa-envelope-open-text flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
                
              </a>
            
          
            
              <a href="https://github.com/imsyy/"
                class="social fad fa-code-branch flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
                
              </a>
            
          
            
              <a href="https://music.imsyy.top/"
                class="social fad fa-headphones-alt flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
                
              </a>
            
          
            
              <a href="https://www.imsyy.top/"
                class="social fad fa-house flat-btn"
                target="_blank"
                rel="external nofollow noopener noreferrer">
                
              </a>
            
          
        </div>
      
    
      
        <div><p><span class="copyright">博客内容遵循 「 <a href="/copyright/">署名-非商业性使用-相同方式共享 4.0 国际 ( CC BY-NC-SA 4.0 )</a> 」 协议</span></p>
</div>
      
    
      
        
          <div><p><span class="cdn">CDN BY <a target="_blank" rel="noopener" href="https://www.upyun.com/"><b>又拍云</b></a> &amp;&amp; <a target="_blank" rel="noopener" href="https://www.jsdelivr.com/"><b>jsDelivr</b></a> | HOST BY <a target="_blank" rel="noopener" href="https://vercel.com/"><b>Vercel</b></a> &amp;&amp; <a target="_blank" rel="noopener" href="https://github.com/"><b>Github</b></a> &amp;&amp; <a target="_blank" rel="noopener" href="https://gitee.com/"><b>Gitee</b></a></span></p>
</div>
        
      
    
      
        
          <div><p><span class="cdn-mobile">CDN BY <a target="_blank" rel="noopener" href="https://www.upyun.com/"><b>又拍云</b></a> &amp;&amp; <a target="_blank" rel="noopener" href="https://www.jsdelivr.com/"><b>jsDelivr</b></a> | HOST BY <a target="_blank" rel="noopener" href="https://vercel.com/"><b>Vercel</b></a> &amp;&amp; <a target="_blank" rel="noopener" href="https://github.com/"><b>Github</b></a></span></p>
</div>
        
      
    
      
        
          <div><p>本站由 <a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"><svg id="up" t="1624174698727" class="icon" viewBox="0 0 4442 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2707" width="200" height="200"><path d="M1258.61548453-45.82215132c-22.90178928-22.90178928-52.34694652-39.26021062-81.79210521-52.34694651-22.90178928-13.08673737-49.07526254-6.54336796-62.16199844 13.0867359L937.99043601 150.47889885l-13.08673737 16.35842135c-19.63010531 26.17347327-49.07526254 39.26021062-81.79210375 39.26020915h-32.71684267c-91.60715713 3.27168397-179.94262883 49.07526254-235.56125933 124.32399983-45.80357857 58.89031445-65.43368387 134.13905173-65.43368387 206.11610208 0 13.08673737 9.81505191 26.17347327 22.90178927 29.44515724 26.17347327 13.08673737 42.5318946 35.98852518 45.80357858 65.43368389 9.81505191 42.5318946-19.63010531 85.06378772-62.16199992 94.87884112-45.80357857 13.08673737-91.60715713-13.08673737-104.69389303-55.61863049v-3.27168544c-6.54336796-26.17347327 0-49.07526254 16.35842134-68.70536641 9.81505191-9.81505191 13.08673737-26.17347327 13.08673588-39.2602106-6.54336796-94.87884111 19.63010531-193.02936621 78.52041977-268.27810202 71.97705183-94.87884111 183.21431429-153.76915557 304.26662868-153.76915558 22.90178928 0 42.5318946-13.08673737 55.61863049-29.44515871l163.58420897-215.93115401c9.81505191-13.08673737 6.54336796-32.71684119-6.54336794-42.5318946-3.27168397-3.27168397-6.54336796-3.27168397-9.81505341-6.54336942-274.82146994-81.79210375-579.08809861 16.35842133-755.75904346 251.91968214-238.83294478 310.80999662-179.94262883 755.75904348 130.86736775 994.59198826 29.44515724 19.63010531 62.16199991 42.5318946 91.60715569 62.16199844 19.63010531 9.81505191 45.80357857 6.54336796 62.16199991-13.0867359l176.67094484-238.83294478 13.08673738-16.35842133c19.63010531-26.17347327 49.07526254-39.26021062 81.79210375-39.26020915h35.98852517c91.60715713-3.27168397 179.94262883-49.07526254 232.28957684-124.32399836 45.80357857-58.89031445 68.70536787-134.13905173 65.43368388-206.11610357 0-13.08673737-9.81505191-26.17347327-19.6301053-29.44515721-26.17347327-13.08673737-45.80357857-35.98852518-45.80357858-65.43368391-9.81505191-42.5318946 16.35842133-85.06378772 62.16199991-94.87884111 45.80357857-13.08673737 91.60715713 13.08673737 104.69389305 55.61863196 3.27168397 26.17347327 0 49.07526254-19.63010533 68.70536639-9.81505191 9.81505191-13.08673737 26.17347327-13.0867359 39.26021064 9.81505191 94.87884111-19.63010531 189.75768224-75.24873727 268.27810199-71.97705183 94.87884111-183.21431429 153.76915557-304.26662718 153.7691556-22.90178928 0-42.5318946 13.08673737-55.61863049 29.44515868l-163.58420898 215.93115403c-9.81505191 13.08673737-6.54336796 32.71684119 6.54336795 42.53189458 3.27168397 3.27168397 6.54336796 3.27168397 9.81505339 6.54336797 284.63652335 85.06378772 588.90315054-16.35842133 765.5740954-255.19136465 219.20283948-314.08168058 157.04083955-755.75904348-153.76915559-994.59198826z m1171.26293314 193.02936622v-16.35842135c0-9.81505191-6.54336796-19.63010531-19.63010533-22.90178929H1850.79031903c-9.81505191 0-19.63010531 6.54336796-22.90178926 19.63010532v35.98852665c0 9.81505191 6.54336796 19.63010531 19.63010531 22.90178928h471.12252011c9.81505191 0 19.63010531 6.54336796 22.90178929 19.63010384v6.54336941c-26.17347327 150.49747162-88.33547317 291.1798913-186.48599678 408.96052171-3.27168397 9.81505191-16.35842133 9.81505191-26.17347325 0l-3.27168544-3.27168545c-75.2487358-98.1505251-127.59568233-209.38778755-153.7691556-330.44010044 0-13.08673737-13.08673737-16.35842133-26.17347325-16.35842136h-32.7168412c-13.08673737 0-22.90178928 13.08673737-19.63010532 26.17347327 29.44515724 137.41073571 88.33547317 268.27810202 176.67094488 379.51536445 9.81505191 9.81505191 9.81505191 22.90178928 0 29.44515724-94.87884111 91.60715713-212.65947151 157.04083955-343.52683781 179.94262885-13.08673737 0-16.35842133 13.08673737-16.35842136 22.9017893v32.71684266c0 13.08673737 13.08673737 22.90178928 26.17347326 22.90178929 147.22578764-26.17347327 284.63652335-94.87884111 392.60210184-202.8444196 6.54336796-9.81505191 19.63010531-9.81505191 29.44515723 0 94.87884111 91.60715713 209.38778755 160.312525 333.71178442 199.57273415 9.81505191 3.27168397 19.63010531 0 26.17347472-9.8150519v-3.27168399l9.81505192-32.7168412c3.27168397-9.81505191-3.27168397-22.90178928-13.08673735-26.17347325-114.50894643-35.98852518-219.20283948-98.1505251-304.26662719-179.94263031-9.81505191-9.81505191-9.81505191-22.90178928 0-29.44515725 127.59568233-153.76915557 206.1161021-336.98346986 219.20283947-533.28452003z m379.51536446-75.24873583h-32.71684268c-9.81505191 0-19.63010531 6.54336796-22.90178929 19.63010532v121.05231437c0 9.81505191-6.54336796 19.63010531-19.63010531 22.90178929h-81.79210375c-9.81505191 0-19.63010531 6.54336796-19.63010531 19.63010385v39.26021062c0 13.08673737 6.54336796 19.63010531 19.63010531 22.9017893h78.52041978c9.81505191 0 19.63010531 6.54336796 19.63010531 19.6301053v170.12757692c0 9.81505191-6.54336796 19.63010531-19.63010531 22.9017893h-81.79210376c-9.81505191 0-19.63010531 6.54336796-19.63010531 19.6301053v42.53189311c0 13.08673737 6.54336796 19.63010531 19.63010531 22.90178929h78.52041978c9.81505191 0 19.63010531 6.54336796 19.63010531 19.63010531v166.85589296c0 35.98852518-13.08673737 94.87884111-104.69389303 98.15052508-9.81505191 0-19.63010531 6.54336796-19.6301053 19.63010531v35.98852517c0 13.08673737 13.08673737 22.90178928 26.17347324 22.9017893 88.33547317-9.81505191 179.94262883-55.6186305 179.94262886-176.67094486v-163.58420898c0-9.81505191 6.54336796-19.63010531 19.6301053-19.63010531h71.97705184c13.08673737 0 19.63010531-9.81505191 19.6301053-19.63010385v-35.98852664c0-9.81505191-6.54336796-19.63010531-19.6301053-19.63010531h-65.43368391c-9.81505191 0-19.63010531-6.54336796-19.63010381-19.63010532V346.77994906c0-9.81505191 6.54336796-19.63010531 19.63010381-19.63010533h71.97705183c9.81505191 0 19.63010531-6.54336796 19.63010532-19.63010384v-35.98852667c0-9.81505191-6.54336796-19.63010531-19.63010532-22.90178926H2855.19735921c-9.81505191 0-19.63010531-6.54336796-19.63010381-19.63010533v-121.05231437c-3.27168397-26.17347327-13.08673737-35.98852518-26.17347327-35.98852519z m179.94262883 870.26798992c0 9.81505191 6.54336796 19.63010531 19.63010531 22.90178929h251.91968067c107.96557701 3.27168397 196.30105018-81.79210375 199.57273416-189.75768224v-523.46946813c0-9.81505191-6.54336796-19.63010531-19.63010532-19.63010381h-428.59062553c-9.81505191 0-19.63010531 6.54336796-19.63010531 19.63010381v3.27168399l-3.27168398 687.05367709z m268.27810201-55.61863196H3084.21525207c-13.08673737 0-19.63010531-6.54336796-22.90178927-19.63010385v-238.83294476c0-13.08673737 9.81505191-19.63010531 19.63010531-19.63010532h274.82146996c9.81505191 0 19.63010531 6.54336796 22.90178927 19.63010532v150.49747159c0 62.16199991-55.6186305 111.23726246-121.05231437 107.96557702 3.27168397 0 0 0 0 0z m121.05231437-559.4579933V510.36415802c0 9.81505191-6.54336796 19.63010531-19.6301053 22.90178928H3084.21525207c-13.08673737 0-19.63010531-6.54336796-22.90178927-19.63010532v-183.2143128c0-13.08673737 6.54336796-19.63010531 19.63010531-22.90178929h274.82146996c13.08673737-3.27168397 22.90178928 6.54336796 22.90178927 19.63010384 0-3.27168397 0 0 0 0z m-52.34694653-255.19136466h-219.20283944c-9.81505191 0-19.63010531 6.54336796-19.63010531 19.63010532v39.26020916c0 9.81505191 6.54336796 19.63010531 19.63010531 19.6301053h222.47452343c9.81505191 0 19.63010531-9.81505191 19.63010532-19.6301053v-35.98852518c0-9.81505191-9.81505191-19.63010531-22.90178931-22.9017893 3.27168397 0 0 0 0 0z m840.82283123 35.98852519h-454.7640988c-9.81505191 0-19.63010531 6.54336796-22.90178929 16.35842135v39.26021062c0 9.81505191 6.54336796 19.63010531 19.63010383 22.90178928h458.03578426c9.81505191 0 19.63010531-6.54336796 19.6301053-19.63010531v-35.98852665c3.27168397-9.81505191-3.27168397-19.63010531-13.0867359-22.90178929h-6.5433694z m-193.02936622 392.60210184h317.35336456c9.81505191 0 19.63010531-6.54336796 19.63010531-19.63010532V444.93047413c0-9.81505191-6.54336796-19.63010531-19.63010531-19.6301053h-706.68378093c-9.81505191 0-19.63010531 6.54336796-19.63010385 19.6301053v35.98852665c0 9.81505191 6.54336796 19.63010531 19.63010385 19.63010532h222.4745249c13.08673737 0 22.90178928 9.81505191 22.9017878 19.63010383 0 6.54336796 0 9.81505191-6.54336793 16.35842133l-147.22578764 261.73473406c-3.27168397 3.27168397-6.54336796 9.81505191-9.81505192 16.35841987-13.08673737 35.98852518-6.54336796 75.2487358 16.35841988 104.69389451 22.90178928 35.98852518 62.16199991 55.6186305 104.6938945 52.34694653h395.87378433c16.35842133 0 35.98852518-9.81505191 42.53189459-26.17347327 6.54336796-16.35842133 9.81505191-32.71684119 3.27168398-45.80357857l-91.60715714-186.48599826c-3.27168397-9.81505191-13.08673737-16.35842133-22.9017893-13.08673588-3.27168397 0-6.54336796 3.27168397-6.54336793 3.27168396l-29.44515725 16.35842134c-9.81505191 3.27168397-16.35842133 13.08673737-13.08673735 22.90178782 0 3.27168397 3.27168397 6.54336796 3.27168398 9.81505341l55.61863197 104.69389302c9.81505191 13.08673737-3.27168397 29.44515724-22.90178931 29.44515723h-317.35336454c-16.35842133 0-29.44515724-6.54336796-39.26021063-16.35841987-6.54336796-9.81505191-6.54336796-19.63010531-3.27168397-29.44515725 0-3.27168397 0-3.27168397 3.27168397-3.27168542l176.67094487-307.53831115c13.08673737-19.63010531 32.71684119-29.44515724 52.34694651-29.44515724z" fill="#666666" p-id="2708"></path></svg></a> 提供 <b>CDN加速 / 云储存服务</b></p>
</div>
        
      
    
      
        <div class='copyright'>
        <p>Copyright © 2020 - <script>document.write((new Date()).getFullYear())</script>&nbsp;<a target="_blank" rel="noopener" href="https://imsyy.top/">無名</a> | <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">豫ICP备2022018134号-1</a><br>本站使用 <a target="_blank" rel="noopener" href="https://github.com/volantis-x/hexo-theme-volantis/"><b>Volantis</b></a> 作为主题 | 由 <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/"><b>Hexo</b></a> 强力驱动</p>

        </div>
      
    
      
        
          <div><p><i class="fad fa-blog"></i>&nbsp;無名小栈</p>
</div>
        
      
    
  </footer>


      <a id="s-top" class="fas fa-arrow-up fa-fw" href="javascript:void(0)"></a>
    </div>
  </div>
  <div>
    <script>
/************这个文件存放不需要重载的全局变量和全局函数*********/
window.volantis={};
window.volantis.loadcss=document.getElementById("loadcss");
/******************** Pjax ********************************/
function VPjax(){
	this.list=[] // 存放回调函数
	this.start=()=>{
	  for(var i=0;i<this.list.length;i++){
		this.list[i].run();
	  }
	}
	this.push=(fn,name)=>{
		var f=new PjaxItem(fn,name);
		this.list.push(f);
	}
	// 构造一个可以run的对象
	function PjaxItem(fn,name){
		// 函数名称
		this.name = name || fn.name
		// run方法
		this.run=()=>{
			fn()
		}
	}
}
volantis.pjax={}
volantis.pjax.method={
	complete: new VPjax(),
	error: new VPjax(),
	send: new VPjax()
}
volantis.pjax={
	...volantis.pjax,
	push: volantis.pjax.method.complete.push,
	error: volantis.pjax.method.error.push,
	send: volantis.pjax.method.send.push
}
/********************脚本懒加载函数********************************/
// 已经加入了setTimeout
function loadScript(src, cb) {
	setTimeout(function() {
		var HEAD = document.getElementsByTagName('head')[0] || document.documentElement;
		var script = document.createElement('script');
		script.setAttribute('type','text/javascript');
		if (cb) script.onload = cb;
		script.setAttribute('src', src);
		HEAD.appendChild(script);
	});
}
//https://github.com/filamentgroup/loadCSS
var loadCSS = function( href, before, media, attributes ){
	var doc = window.document;
	var ss = doc.createElement( "link" );
	var ref;
	if( before ){
		ref = before;
	}
	else {
		var refs = ( doc.body || doc.getElementsByTagName( "head" )[ 0 ] ).childNodes;
		ref = refs[ refs.length - 1];
	}
	var sheets = doc.styleSheets;
	if( attributes ){
		for( var attributeName in attributes ){
			if( attributes.hasOwnProperty( attributeName ) ){
				ss.setAttribute( attributeName, attributes[attributeName] );
			}
		}
	}
	ss.rel = "stylesheet";
	ss.href = href;
	ss.media = "only x";
	function ready( cb ){
		if( doc.body ){
			return cb();
		}
		setTimeout(function(){
			ready( cb );
		});
	}
	ready( function(){
		ref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );
	});
	var onloadcssdefined = function( cb ){
		var resolvedHref = ss.href;
		var i = sheets.length;
		while( i-- ){
			if( sheets[ i ].href === resolvedHref ){
				return cb();
			}
		}
		setTimeout(function() {
			onloadcssdefined( cb );
		});
	};
	function loadCB(){
		if( ss.addEventListener ){
			ss.removeEventListener( "load", loadCB );
		}
		ss.media = media || "all";
	}
	if( ss.addEventListener ){
		ss.addEventListener( "load", loadCB);
	}
	ss.onloadcssdefined = onloadcssdefined;
	onloadcssdefined( loadCB );
	return ss;
};
</script>

<script>
  
  loadCSS("https://cdn.imsyy.top/gh/volantis-x/cdn-fontawesome-pro@master/css/all.min.css", window.volantis.loadcss);
  
  
  
  
</script>
<!-- required -->

<script src="https://npm.elemecdn.com/jquery@3.5/dist/jquery.min.js"></script>

<script>
  function pjax_fancybox() {
    $(".md .gallery").find("img").each(function () { //渲染 fancybox
      var element = document.createElement("a"); // a 标签
      $(element).attr("class", "fancybox");
      $(element).attr("pjax-fancybox", "");  // 过滤 pjax
      $(element).attr("href", $(this).attr("src"));
      if ($(this).attr("data-original")) {
        $(element).attr("href", $(this).attr("data-original"));
      }
      $(element).attr("data-fancybox", "images");
      var caption = "";   // 描述信息
      if ($(this).attr('alt')) {  // 判断当前页面是否存在描述信息
        $(element).attr('data-caption', $(this).attr('alt'));
        caption = $(this).attr('alt');
      }
      var div = document.createElement("div");
      $(div).addClass("fancybox");
      $(this).wrap(div); // 最外层套 div ，其实主要作用还是 class 样式
      var span = document.createElement("span");
      $(span).addClass("image-caption");
      $(span).text(caption); // 加描述
      $(this).after(span);  // 再套一层描述
      $(this).wrap(element);  // 最后套 a 标签
    })
    $(".md .gallery").find("img").fancybox({
      selector: '[data-fancybox="images"]',
      hash: false,
      loop: false,
      closeClick: true,
      helpers: {
        overlay: {closeClick: true}
      },
      buttons: [
        "zoom",
        "close"
      ]
    });
  };
  function SCload_fancybox() {
    if ($(".md .gallery").find("img").length == 0) return;
    loadCSS("https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css", document.getElementById("loadcss"));
    loadScript('https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js', pjax_fancybox)
  };
  $(function () {
    SCload_fancybox();
  });
  function Pjax_SCload_fancybox(){
	if (typeof $.fancybox == "undefined") {
	 SCload_fancybox();
    } else {
	 pjax_fancybox();
    }
  }
  volantis.pjax.push(Pjax_SCload_fancybox)
  volantis.pjax.send(()=>{
      if (typeof $.fancybox != "undefined") {
        $.fancybox.close();    // 关闭弹窗
      }
  },'fancybox')
</script>


<!-- internal -->



  
  

  <div id="rightmenu-wrapper">
    <ul class="list-v rightmenu" id="rightmenu-content">
      <li class='option'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-text' onclick="document.execCommand('copy')"><i class='fa fa-copy fa-fw'></i>复制文本</a>
        <hr id='hr-text'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-href'><i class='fa fa-link fa-fw'></i>复制链接</a>
        <a class='vlts-menu opt fix-cursor-default' id='menu-open-href'><i class='fa fa-external-link-square-alt fa-fw'></i>在新标签页打开</a>
        <hr id='hr-href'>
        <a class='vlts-menu opt fix-cursor-default' id='menu-copy-src'><i class='fa fa-image fa-fw'></i>复制图片地址</a>
        <hr id='hr-src'>
      </li>
      
        <li class='navigation'>
          <a class='nav icon-only fix-cursor-default' onclick='history.back()'><i class='fa fa-arrow-left fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' onclick='history.forward()'><i class='fa fa-arrow-right fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' onclick='window.location.reload()'><i class='fa fa-redo fa-fw'></i></a>
          <a class='nav icon-only fix-cursor-default' href='/'><i class='fa fa-home fa-fw'></i></a>
        </li>
      
      <hr>
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=/friends/
        
        
        
        
          id="friends"
        >
        <i class='fad fa-users fa-fw'></i> 小伙伴们
      </a>
    </li>
  
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=/archive/
        
        
        
        
          id="archive"
        >
        <i class='fad fa-archive fa-fw'></i> 文章归档
      </a>
    </li>
  
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=/messages/
        
        
        
        
          id="messages"
        >
        <i class='fad fa-comment-alt-lines fa-fw'></i> 站内留言
      </a>
    </li>
  
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default ' href=/about/
        
        
        
        
          id="about"
        >
        <i class='fad fa-smile-wink fa-fw'></i> 关于本站
      </a>
    </li>
  
        
      
        
          <hr>
        
      
        
          
    <li>
      <a class='vlts-menu fix-cursor-default toggle-mode-btn' 
        
        
        
        >
        <i class='fad fa-adjust fa-fw'></i> 明暗切换
      </a>
    </li>
  
        
      
        
          <hr>
        
      
        
          <li class='music name'>
            <p class='nav music-title fix-cursor-default'></p>
          </li>
          <li class='music ctrl'>
            <a class='nav icon-only backward fix-cursor-default' onclick='aplayerBackward()'><i class='fa fa-step-backward fa-fw'></i></a>
            <a class='nav icon-only toggle fix-cursor-default' onclick='aplayerToggle()'><i class='fa fa-play fa-fw'></i></a>
            <a class='nav icon-only forward fix-cursor-default' onclick='aplayerForward()'><i class='fa fa-step-forward fa-fw'></i></a>
          </li>
          <li class='music volume'>
            <a class='nav volume'>
              <div class="aplayer-volume-bar-wrap">
                <div class="aplayer-volume-bar fix-cursor-pointer">
                  <div class="aplayer-volume"></div>
                  <i class='left fa fa-volume-off fa-fw'></i>
                  <i class='right fa fa-volume-up fa-fw'></i>
                </div>
              </div>
            </a>
          </li>
        
      
    </ul>
  </div>

  <script>
    window.document.oncontextmenu = function (event) {
      if (event.ctrlKey) return true;
      if (/Android|webOS|BlackBerry/i.test(navigator.userAgent)) return true;
      return popMenu(event);
    };
    document.addEventListener("click", function (event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      mymenu.style.display = "none";
    });
    function popMenu(event) {
      var mymenu = document.getElementById('rightmenu-wrapper');
      var menuContent = document.getElementById('rightmenu-content');
      var screenWidth = document.documentElement.clientWidth || document.body.clientWidth;
      var screenHeight = document.documentElement.clientHeight || document.body.clientHeight;
      mymenu.style.left = event.clientX + "px"; // 获取鼠标位置
      mymenu.style.top = event.clientY + "px";
      mymenu.style.display = 'block';
      if (event.clientX * 2 > screenWidth) {
        menuContent.classList.add('left');
      } else {
        menuContent.classList.remove('left');
      }
      if (event.clientY * 2 > screenHeight) {
        menuContent.classList.add('top');
      } else {
        menuContent.classList.remove('top');
      }

      let hrText = document.getElementById('hr-text');
      let hrSrc = document.getElementById('hr-src');
      let hrHref = document.getElementById('hr-href');

      // 选中图片
      let copySrc = document.getElementById('menu-copy-src');
      if (copySrc != undefined) {
        if (event.target.currentSrc) {
          copySrc.style.display = 'block';
          copySrc.addEventListener("click", function (e) {
            copyString(event.target.currentSrc);
          },{once: true});
          hrSrc.style.display = 'block';
        } else {
          copySrc.style.display = 'none';
          hrSrc.style.display = 'none';
        }
      }

      // 选中按钮
      // 判断是不是按钮
      let href = '';
      if (event.path) {
        for (i = 0; i < event.path.length; i++) {
          if (event.path[i].href != undefined && event.path[i].href.length > 0) {
            href = event.path[i].href;
          }
        }
      }

      let copyText = document.getElementById('menu-copy-text');
      copyText.style.display = 'none';
      hrText.style.display = 'none';
      if (href.length == 0) {
        // 选中文本
        if (window.getSelection().toString()) {
          if ('true' == 'true') {
            copyText.style.display = 'block';
            hrText.style.display = 'block';
          }
        }
      }

      // 在新标签页打开
      let openHref = document.getElementById('menu-open-href');
      if (openHref != undefined) {
        if (href.length > 0) {
          openHref.style.display = 'block';
          openHref.addEventListener("click", function (e) {
            window.open(href);
          },{once: true});
          hrHref.style.display = 'block';
        } else {
          openHref.style.display = 'none';
          hrHref.style.display = 'none';
        }
      }
      // 复制链接
      let copyHref = document.getElementById('menu-copy-href');
      if (copyHref != undefined) {
        if (href.length > 0) {
          copyHref.style.display = 'block';
          copyHref.addEventListener("click", function (e) {
            copyString(href);
          },{once: true});
        } else {
          copyHref.style.display = 'none';
        }
      }
      // 有音乐播放器 see: layout/_third-party/aplayer/script.ejs
      
      if(volantis.APlayerLoaded){ // APlayer加载完成？
        // 如果有aplayer，初始化一下
        checkAPlayer();
      }
      
      return false; // 该行代码确保系统自带的右键菜单不会被调出
    }
    function hideMenu() {
      document.getElementById('rightmenu-wrapper').style.display = 'none';
    }
    function copyString(str) {
      const input = document.createElement('input');
      input.setAttribute('readonly', 'readonly');
      document.body.appendChild(input);
      input.setAttribute('value', str);
      input.select();
      document.execCommand('copy');
      document.body.removeChild(input);
    }
    document.execCommand('click');
  </script>




<script>
  function loadIssuesJS() {
    if ($(".md").find(".issues-api").length == 0) return;
	
	  loadScript('/js/issues.js');
	
  };
  $(function () {
    loadIssuesJS();
  });
  volantis.pjax.push(()=>{
	if (typeof IssuesAPI == "undefined") {
	  loadIssuesJS();
	}
  },"IssuesJS")
</script>



  <script defer src="https://npm.elemecdn.com/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>




  

<script>
  window.FPConfig = {
	delay: 0,
	ignoreKeywords: [],
	maxRPS: 5,
	hoverDelay: 25
  };
</script>
<script defer src="https://fastly.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"></script>





  <script src="https://npm.elemecdn.com/clipboard@2/dist/clipboard.min.js"></script>
<script>
    var clipboard = new ClipboardJS('.btn-copy', {
        target: function (trigger) {
            return trigger.nextElementSibling
        }
    });
    function wait(callback, seconds) {
        var timelag = null;
        timelag = window.setTimeout(callback, seconds)
    }
    function pjax_initCopyCode() {
		if($(".highlight .code pre").length+$(".article pre code").length==0)return;
        var copyHtml = '';
        copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
        copyHtml += '<i class="fas fa-copy"></i><span>COPY</span>';
        copyHtml += '</button>';
        $(".highlight .code pre").before(copyHtml);
        $(".article pre code").before(copyHtml);
        clipboard.off('success').on('success', function (e) {
            let $btn = $(e.trigger);
            $btn.addClass('copied');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-check-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPIED';
            wait(function () {
                $icon.removeClass('fa-check-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        });
        clipboard.off('error').on('error', function (e) {
            e.clearSelection();
            let $btn = $(e.trigger);
            $btn.addClass('copy-failed');
            let $icon = $($btn.find('i'));
            $icon.removeClass('fa-copy');
            $icon.addClass('fa-times-circle');
            let $span = $($btn.find('span'));
            $span[0].innerText = 'COPY FAILED';
            wait(function () {
                $icon.removeClass('fa-times-circle');
                $icon.addClass('fa-copy');
                $span[0].innerText = 'COPY'
            }, 2000)
        })
    }
    $(function () {
        pjax_initCopyCode()
    });
	volantis.pjax.push(pjax_initCopyCode)
</script>




   <script type="text/javascript">
  loadScript("https://npm.elemecdn.com/scrollreveal@4.0.6/dist/scrollreveal.min.js")
  function pjax_scrollrebeal() {
    ScrollReveal().reveal('.l_main .reveal', {
      distance: '32px',
      duration: '800',
      interval: '20',
      scale: '1',
      easing: 'ease-out'
    });
  }
  $(function () {
  var checkScrollReveal = setInterval(function () {
    if ($("#safearea").css("display")!="block") return
    if (typeof ScrollReveal=="undefined") return
    clearInterval(checkScrollReveal)
	pjax_scrollrebeal();
  }, 100)
  });
  volantis.pjax.push(pjax_scrollrebeal)
</script>




  <script>
  let APlayerController = new Object();
  APlayerController.id = '7986662494';  // 设定全局音乐播放ID
  APlayerController.volume = '0.7';
  loadCSS("https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css", window.volantis.loadcss);
  // APlayer 需要在  MetingJS 之前加载
  loadScript("https://npm.elemecdn.com/aplayer@1.10/dist/APlayer.min.js")
  window.volantis.APlayerLoaded=0 // APlayer加载完成状态
  var checkAPlayer = setInterval(function () {
    if (!window.APlayer) return // APlayer加载完成？
	  if ($("#safearea").css("display")!="block") return // 文章内容加载完成？ see: source/css/first.styl
    clearInterval(checkAPlayer)
	  if (!window.volantis.APlayerLoaded&&!window.MetingJSElement){ // APlayer只能加载一次
      window.volantis.APlayerLoaded=1 // APlayer加载完成
      loadScript("https://npm.elemecdn.com/meting@2.0/dist/Meting.min.js") // 加载 MetingJS
	  }
  }, 2500) // 按照网速调节差分2.5s
  // rightmenu see: layout/_partial/rightmenu.ejs

  
    loadScript("/js/aplayer.js")
  

</script>




  <script>
  function load_twikoo() {
	
	  loadScript('https://npm.elemecdn.com/twikoo@1.6.7/dist/twikoo.all.min.js', pjax_twikoo)
	
  }
  function pjax_twikoo() {
    if(!document.querySelectorAll("#twikoo_container")[0])return;
    let path = pdata.commentPath;
    if (path.length == 0) {
      let defaultPath = '';
      path = defaultPath || "decodeURI(window.location.pathname)"; //神奇的pathname
    }
    twikoo.init(Object.assign({"js":"https://npm.elemecdn.com/twikoo@1.6.7/dist/twikoo.all.min.js","path":null,"envId":"https://twikoo.imsyy.top/"}, {
	  el: '#twikoo_container',
	  path: path,
    }))
  }
  $(function () {
    if(!document.querySelectorAll("#twikoo_container")[0])return;
    load_twikoo();
  });
   volantis.pjax.push(()=>{
	  if (typeof twikoo == "undefined") {
		load_twikoo();
	  } else {
		pjax_twikoo();
	  }
   },'twikoo');
</script>





  
<script src="/js/app.js"></script>



<!-- optional -->

  <script>
const SearchServiceimagePath="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/";
const ROOT =  ("/" || "/").endsWith('/') ? ("/" || "/") : ("//" || "/" );

$('.input.u-search-input').one('focus',function(){
	
		loadScript('https://fastly.jsdelivr.net/gh/volantis-x/cdn-volantis@master/js/search.js',setSearchService);
	
})

function listenSearch(){
  
    customSearch = new HexoSearch({
      imagePath: SearchServiceimagePath
    });
  
}
function setSearchService() {
	listenSearch();
	
}
</script>













  <!--自动夜间模式-->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Colsrch/CDN@master/judge_time/js.js"></script>

<script>
const rootElement = document.documentElement;
const darkModeStorageKey = "user-color-scheme";
const rootElementDarkModeAttributeName = "data-user-color-scheme";

const setLS = (k, v) => {
    localStorage.setItem(k, v);
};

const removeLS = (k) => {
    localStorage.removeItem(k);
};

const getLS = (k) => {
    return localStorage.getItem(k);
};

const getModeFromCSSMediaQuery = () => {
  return window.matchMedia("(prefers-color-scheme: dark)").matches
    ? "dark"
    : "light";
};

const resetRootDarkModeAttributeAndLS = () => {
  rootElement.removeAttribute(rootElementDarkModeAttributeName);
  removeLS(darkModeStorageKey);
};

const validColorModeKeys = {
  dark: true,
  light: true,
};

const applyCustomDarkModeSettings = (mode) => {
  const currentSetting = mode || getLS(darkModeStorageKey);

  if (currentSetting === getModeFromCSSMediaQuery()) {
    resetRootDarkModeAttributeAndLS();
  } else if (validColorModeKeys[currentSetting]) {
    rootElement.setAttribute(rootElementDarkModeAttributeName, currentSetting);
  } else {
    resetRootDarkModeAttributeAndLS();
  }
};

const invertDarkModeObj = {
  dark: "light",
  light: "dark",
};

/**
 * get target mode
 */
const toggleCustomDarkMode = () => {
  let currentSetting = getLS(darkModeStorageKey);

  if (validColorModeKeys[currentSetting]) {
    currentSetting = invertDarkModeObj[currentSetting];
  } else if (currentSetting === null) {
    currentSetting = invertDarkModeObj[getModeFromCSSMediaQuery()];
  } else {
    return;
  }
  setLS(darkModeStorageKey, currentSetting);
  return currentSetting;
};

/**
 * bind click event for toggle button
 */
var btn=$("#wrapper .toggle-mode-btn,#rightmenu-wrapper .toggle-mode-btn");
function bindToggleButton() {
    btn.on('click',(e) => {
      const mode = toggleCustomDarkMode();
      applyCustomDarkModeSettings(mode);
      // 添加弹窗
      iziToast.info({
            timeout: 4000, //调试
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-adjust',
            backgroundColor: '#fff',
            title: '明暗切换',
            message: '已手动切换明暗模式'
        });
    });
}

applyCustomDarkModeSettings();
document.addEventListener("DOMContentLoaded", bindToggleButton);
volantis.pjax.push(bindToggleButton);
volantis.pjax.send(()=>{
	btn.unbind('click');
},'toggle-mode-btn-unbind');

/*添加代码*/
// 自动夜间模式
if (navigator.geolocation) {   //获取地理位置 用于判断日出日落时间
    navigator.geolocation.getCurrentPosition(
      function (position) {
        var res = computeSunRiseSunSet(position.coords.latitude, position.coords.longitude, 8);
        console.log(res.str)
        adjust_time(res.strSunRise, res.strSunSet, "08:00", "12:00", "14:00", "23:00")
      },
      function (e) {
        adjust_time("7:00", "17:30", "08:00", "12:00", "14:00", "23:00")  //未允许获取地理位置时，使用默认时间
        console.log("未允许获取地理位置，使用默认配置时间")
        iziToast.info({
            timeout: 6000, //调试
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-times-circle',
            backgroundColor: '#fff',
            title: '权限获取错误',
            message: '未允许获取地理位置<p style="margin-top: 4px;">将使用默认配置时间</p>'
        });
        throw (e.message);
      }
    )
  }
function adjust_time(beginTime, endTime, morningTime, noonTime, afternoonTime, nightTime) {
  const rootElement = document.documentElement;
  var strb = beginTime.split(":");
  if (strb.length != 2) {
    return false;
  }

  var stre = endTime.split(":");
  if (stre.length != 2) {
    return false;
  }

  var strmorning = morningTime.split(":");   //12点
  if (stre.length != 2) {
    return false;
  }

  var strnoon = noonTime.split(":");   //12点
  if (stre.length != 2) {
    return false;
  }

  var strafternoon = afternoonTime.split(":");   //13点
  if (stre.length != 2) {
    return false;
  }

  var strnight = nightTime.split(":");   //23点
  if (stre.length != 2) {
    return false;
  }

  var b = new Date();
  var e = new Date();
  var n = new Date();
  var morning = new Date();
  var noon = new Date();
  var afternoon = new Date();
  var night = new Date();

  b.setHours(strb[0]);
  b.setMinutes(strb[1]);
  e.setHours(stre[0]);
  e.setMinutes(stre[1]);
  morning.setHours(strmorning[0]);
  morning.setMinutes(strmorning[1]);
  noon.setHours(strnoon[0]);
  noon.setMinutes(strnoon[1]);
  afternoon.setHours(strafternoon[0]);
  afternoon.setMinutes(strafternoon[1]);
  night.setHours(strnight[0]);
  night.setMinutes(strnight[1]);


  $.getJSON("https://v1.hitokoto.cn", function (hitokoto) {
    //在这里面处理获得的数据
    if (n.getTime() - b.getTime() > 0 && n.getTime() - e.getTime() < 0) {
      var daytimetitle = ''
      var daytimemessage = ''
      if (n.getTime() - morning.getTime() < 0) {
        // 早上
        daytimetitle = '早安'
      }
      else if (n.getTime() - noon.getTime() < 0) {
        // 上午
        daytimetitle = '上午好'
      }
      else if (n.getTime() - afternoon.getTime() < 0) {
        // 中午
        daytimetitle = '中午好'
        daytimemessage = '<br>要注意休息哦~'
      }
      else {
        // 下午
        daytimetitle = '下午好'
      }
      // 判断是否已经开启夜间模式
      if (rootElement.getAttribute('data-user-color-scheme', 'dark')) {
        // 已开启夜间模式，修改按钮状态
        iziToast.info({
            timeout: 4000, //调试
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-sun',
            backgroundColor: '#fff',
            title: '日间模式切换',
            message: daytimetitle + '，已自动为您切换为日间模式'
        });
        const mode = toggleCustomDarkMode();
        applyCustomDarkModeSettings(mode);
      }
      else {
        // 未开启夜间模式，不执行操作
        iziToast.info({
            timeout: 4000, //调试
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-comment-alt-smile',
            backgroundColor: '#fff',
            title: daytimetitle + '呀',
            message: hitokoto.hitokoto
        });
        return true;
      }
    } else {
      // 晚上
      var nighttitle = ''
      var nightmessage = ''
      if (night.getTime() - n.getTime() < 0 || n.getTime() - b.getTime() < 0) {
        nighttitle = '夜深了'
        nightmessage = '<br>该睡觉啦~'
      }
      else {
        nighttitle = '晚上好'
        nightmessage = '<br>吃晚饭了吗？要注意眼睛哦。'
      }
      // 判断是否已经开启夜间模式
      if (rootElement.getAttribute('data-user-color-scheme', 'dark')) {
        // 已开启夜间模式，不执行操作
        iziToast.info({
            timeout: 4000, //调试
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fad fa-comment-alt-smile',
            backgroundColor: '#fff',
            title: nighttitle + '呀',
            message: hitokoto.hitokoto
        });
        return true;
      }
      else {
        // 未开启夜间模式，修改按钮状态
         iziToast.info({
            timeout: 4000, //调试
            icon: 'Fontawesome',
            closeOnEscape: 'true',
            transitionOut: 'fadeOutRight',
            displayMode: 'replace',
            layout: '2',
            transitionIn: 'bounceInLeft',
            position: 'topRight',
            icon: 'fas fa-moon',
            backgroundColor: '#fff',
            title: '夜间模式切换',
            message: nighttitle + '，已自动为您切换为夜间模式'
        });
        const mode = toggleCustomDarkMode();
        applyCustomDarkModeSettings(mode);
      }
    }
  });
}
</script>








<script>
function listennSidebarTOC() {
  const navItems = document.querySelectorAll(".toc li");
  if (!navItems.length) return;
  const sections = [...navItems].map((element) => {
    const link = element.querySelector(".toc-link");
    const target = document.getElementById(
      decodeURI(link.getAttribute("href")).replace("#", "")
    );
    link.addEventListener("click", (event) => {
      event.preventDefault();
      window.scrollTo({
		top: target.offsetTop + 100,
		
		behavior: "smooth"
		
	  });
    });
    return target;
  });

  function activateNavByIndex(target) {
    if (target.classList.contains("active-current")) return;

    document.querySelectorAll(".toc .active").forEach((element) => {
      element.classList.remove("active", "active-current");
    });
    target.classList.add("active", "active-current");
    let parent = target.parentNode;
    while (!parent.matches(".toc")) {
      if (parent.matches("li")) parent.classList.add("active");
      parent = parent.parentNode;
    }
  }

  function findIndex(entries) {
    let index = 0;
    let entry = entries[index];
    if (entry.boundingClientRect.top > 0) {
      index = sections.indexOf(entry.target);
      return index === 0 ? 0 : index - 1;
    }
    for (; index < entries.length; index++) {
      if (entries[index].boundingClientRect.top <= 0) {
        entry = entries[index];
      } else {
        return sections.indexOf(entry.target);
      }
    }
    return sections.indexOf(entry.target);
  }

  function createIntersectionObserver(marginTop) {
    marginTop = Math.floor(marginTop + 10000);
    let intersectionObserver = new IntersectionObserver(
      (entries, observe) => {
        let scrollHeight = document.documentElement.scrollHeight + 100;
        if (scrollHeight > marginTop) {
          observe.disconnect();
          createIntersectionObserver(scrollHeight);
          return;
        }
        let index = findIndex(entries);
        activateNavByIndex(navItems[index]);
      },
      {
        rootMargin: marginTop + "px 0px -100% 0px",
        threshold: 0,
      }
    );
    sections.forEach((element) => {
      element && intersectionObserver.observe(element);
    });
  }
  createIntersectionObserver(document.documentElement.scrollHeight);
}

document.addEventListener("DOMContentLoaded", listennSidebarTOC);
document.addEventListener("pjax:success", listennSidebarTOC);
</script>

<!-- more -->

  
  <script defer type="text/javascript" src="https://player.dogecloud.com/js/loader"></script>

  <script defer type="text/javascript" src="https://cdn.imsyy.top/npm/artitalk"></script>

  <script defer src="https://cdn.imsyy.top/gh/zhheo/JS-Heo@main/privacy/privacy.js"></script>




<!-- 自定义添加 -->
<!--加载动画-->
<script>
  window.addEventListener('load', function () {
    $('#loading-box').attr('class', 'loaded');
    $('#l_body').css("cssText", "transform: scale(1) !important;opacity: 1 !important;filter: blur(0px) !important");
  }, false)
  // setTimeout(function () {
  //   $('#loading-box').attr('class', 'loaded');
  //   $('#l_body').css("cssText",
  //     "transform: scale(1) !important;opacity: 1 !important;filter: blur(0px) !important");
  // }, 5000);
  // $("#skip").click(function () {
  //   $('#loading-box').attr('class', 'loaded');
  // });
</script>

<!-- 复制提醒 -->
<script>
  document.body.oncopy = function () {
    iziToast.info({
      timeout: 4000,
      icon: 'Fontawesome',
      closeOnEscape: 'true',
      transitionOut: 'fadeOutRight',
      displayMode: 'replace',
      layout: '2',
      transitionIn: 'bounceInLeft',
      position: 'topRight',
      icon: 'fad fa-copy',
      backgroundColor: '#fff',
      title: '复制成功',
      message: '请遵守 CC BY-NC-SA 4.0 协议'
    });
  }
</script>

<!-- 新春灯笼 -->
<script src="https://cdn.jsdelivr.net/gh/fz6m/china-lantern@1.6/dist/china-lantern.min.js"></script>
<style>
    .lantern__warpper {
        z-index: 1000;
    }

    @media screen and (max-width:1300px) {
        .lantern__warpper {
            display: none;
        }
    }
</style>

<!-- 自动变灰 -->
<script>
  var myDate = new Date;
  var mon = myDate.getMonth() + 1;
  var date = myDate.getDate();
  var days = ['4.4', '5.12', '7.7', '9.9', '9.18', '12.13'];
  for (var day of days) {
    var d = day.split('.');
    if (mon == d[0] && date == d[1]) {
      document.write(
        '<style>html{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);_filter:none}</style>'
      )
      console.log('今天是纪念日');
      console.log('默哀...');
      /*
      iziToast.info({
          timeout: 14000,
          icon: 'Fontawesome',
          closeOnEscape: 'true',
          transitionOut: 'fadeOutRight',
          layout: '2',
          transitionIn: 'bounceInLeft',
          position: 'topRight',
          icon: 'fad fa-candle-holder',
          backgroundColor: '#fff',
          title: '今天是国家纪念日',
          message: '历史不会忘记，人民永远铭记！<p style="margin-top: 4px;">全站已切换为黑白模式</p>'
      });
      */
    }
  }
</script>

<!--控制台输出-->
<script>
  if (window.console) {
    var cons = console;
    if (cons) {
      console.log('%c欢迎来到本站',
        'color:#fff; background: #5e72e4;font-size: 12px;border-radius:5px;padding:3px 10px 3px 10px;');
      console.log('%c本站基于 Hexo 搭建',
        'color:#fff; background: #5e72e4;font-size: 12px;border-radius:5px;padding:3px 10px 3px 10px;');
      console.log('%c主题采用 Volantis 4.3.1 版本',
        'font-size: 12px;border-radius:5px;padding:3px 10px 3px 10px;border:1px solid #5e72e4;');
    }
  }
</script>

<!--时间胶囊-->
<script>
  function init_life_time() {
    function getAsideLifeTime() {
      /* 当前时间戳 */
      let nowDate = +new Date();
      /* 今天开始时间戳 */
      let todayStartDate = new Date(new Date().toLocaleDateString()).getTime();
      /* 今天已经过去的时间 */
      let todayPassHours = (nowDate - todayStartDate) / 1000 / 60 / 60;
      /* 今天已经过去的时间比 */
      let todayPassHoursPercent = (todayPassHours / 24) * 100;
      $('#dayProgress .date-text span').html(parseInt(todayPassHours));
      $('#dayProgress .progress .progress-bar').css('width', parseInt(todayPassHoursPercent) + '%');
      $('#dayProgress .progress .progress-bar').html(parseInt(todayPassHoursPercent) + '%');
      /* 当前周几 */
      let weeks = {
        0: 7,
        1: 1,
        2: 2,
        3: 3,
        4: 4,
        5: 5,
        6: 6
      };
      let weekDay = weeks[new Date().getDay()];
      let weekDayPassPercent = (weekDay / 7) * 100;
      $('#weekProgress .date-text span').html(weekDay);
      $('#weekProgress .progress .progress-bar').css('width', parseInt(weekDayPassPercent) + '%');
      $('#weekProgress .progress .progress-bar').html(parseInt(weekDayPassPercent) + '%');
      /* 月 */
      let year = new Date().getFullYear();
      let date = new Date().getDate();
      let month = new Date().getMonth() + 1;
      let monthAll = new Date(year, month, 0).getDate();
      let monthPassPercent = (date / monthAll) * 100;
      $('#monthProgress .date-text span').html(date);
      $('#monthProgress .progress .progress-bar').css('width', parseInt(monthPassPercent) + '%');
      $('#monthProgress .progress .progress-bar').html(parseInt(monthPassPercent) + '%');
      /* 年 */
      let yearPass = (month / 12) * 100;
      $('#yearProgress .date-text span').html(month);
      $('#yearProgress .progress .progress-bar').css('width', parseInt(yearPass) + '%');
      $('#yearProgress .progress .progress-bar').html(parseInt(yearPass) + '%');
    }
    getAsideLifeTime();
    setInterval(() => {
      getAsideLifeTime();
    }, 1000);
  }
  init_life_time()
</script>

<!--鼠标样式
<script>
    var CURSOR;
  
    Math.lerp = (a, b, n) => (1 - n) * a + n * b;
  
    const getStyle = (el, attr) => {
      try {
        return window.getComputedStyle ?
          window.getComputedStyle(el)[attr] :
          el.currentStyle[attr];
      } catch (e) {}
      return "";
    };
  
    class Cursor {
      constructor() {
        this.pos = {
          curr: null,
          prev: null
        };
        this.pt = [];
        this.create();
        this.init();
        this.render();
      }
  
      move(left, top) {
        this.cursor.style["left"] = `${left}px`;
        this.cursor.style["top"] = `${top}px`;
      }
  
      create() {
        if (!this.cursor) {
          this.cursor = document.createElement("div");
          this.cursor.id = "cursor";
          this.cursor.classList.add("hidden");
          document.body.append(this.cursor);
        }
  
        var el = document.getElementsByTagName('*');
        for (let i = 0; i < el.length; i++)
          if (getStyle(el[i], "cursor") == "pointer")
            this.pt.push(el[i].outerHTML);
  
        document.body.appendChild((this.scr = document.createElement("style")));
        this.scr.innerHTML =
          `* {cursor: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' width='8px' height='8px'><circle cx='4' cy='4' r='4' opacity='.5'/></svg>") 4 4, auto}`;
      }
  
      refresh() {
        this.scr.remove();
        this.cursor.classList.remove("hover");
        this.cursor.classList.remove("active");
        this.pos = {
          curr: null,
          prev: null
        };
        this.pt = [];
  
        this.create();
        this.init();
        this.render();
      }
  
      init() {
        document.onmouseover = e => this.pt.includes(e.target.outerHTML) && this.cursor.classList.add("hover");
        document.onmouseout = e => this.pt.includes(e.target.outerHTML) && this.cursor.classList.remove("hover");
        document.onmousemove = e => {
          (this.pos.curr == null) && this.move(e.clientX - 8, e.clientY - 8);
          this.pos.curr = {
            x: e.clientX - 8,
            y: e.clientY - 8
          };
          this.cursor.classList.remove("hidden");
        };
        document.onmouseenter = e => this.cursor.classList.remove("hidden");
        document.onmouseleave = e => this.cursor.classList.add("hidden");
        document.onmousedown = e => this.cursor.classList.add("active");
        document.onmouseup = e => this.cursor.classList.remove("active");
      }
  
      render() {
        if (this.pos.prev) {
          this.pos.prev.x = Math.lerp(this.pos.prev.x, this.pos.curr.x, 0.45);
          this.pos.prev.y = Math.lerp(this.pos.prev.y, this.pos.curr.y, 0.45);
          this.move(this.pos.prev.x, this.pos.prev.y);
        } else {
          this.pos.prev = this.pos.curr;
        }
        requestAnimationFrame(() => this.render());
      }
    }
  
    (() => {
      CURSOR = new Cursor();
      // 需要重新获取列表时，使用 CURSOR.refresh()
    })();
  </script>-->

    
    


<script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script>


<!-- 样式位于：source/css/_plugins/pjaxanimate.styl -->

<div class="pjax-animate">
  
    <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>
    <div id="loading-bar-wrapper"><script>NProgress.configure({parent:"#loading-bar-wrapper",trickleSpeed: 100})</script></div>
    <script>
      window.ShowLoading = function() {
        NProgress.start();
      };
      window.HideLoading = function() {
        NProgress.done();
      }
    </script>
  
	<script>
		volantis.pjax.push(window.HideLoading,'HideLoading');
		volantis.pjax.send(window.ShowLoading,'ShowLoading');
		volantis.pjax.error(window.HideLoading,'HideLoading');
	</script>
</div>


<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox])',
        selectors: [
          "title",
          
          "#pjax-container",
          "#pjax-header-nav-list"
        ],
        cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
        timeout: 8000
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // 相当于点击了浏览器的停止按钮

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      window.subData = null; // 移除标题（用于一二级导航栏切换处）

      volantis.$switcher.removeClass('active'); // 关闭移动端激活的搜索框
      volantis.$header.removeClass('z_search-open'); // 关闭移动端激活的搜索框
      volantis.$wrapper.removeClass('sub'); // 跳转页面时关闭二级导航

      // 解绑事件 避免重复监听
      volantis.$topBtn.unbind('click');
      $('.menu a').unbind('click');
      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');
	  // 使用 volantis.pjax.send 方法传入pjax:send回调函数 参见layout/_partial/scripts/global.ejs
	  volantis.pjax.method.send.start();
    });

    document.addEventListener('pjax:complete', function () {
      $('.nav-main').find('.list-v').not('.menu-phone').removeAttr("style",""); // 移除小尾巴的移除
      $('.menu-phone.list-v').removeAttr("style",""); // 移除小尾巴的移除
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
      try{
		// 使用 volantis.pjax.push 方法传入重载函数 参见layout/_partial/scripts/global.ejs
		volantis.pjax.method.complete.start();
      } catch (e) {
        console.log(e);
      }
    });

    document.addEventListener('pjax:error', function (e) {
	  // 使用 volantis.pjax.error 方法传入pjax:error回调函数 参见layout/_partial/scripts/global.ejs
    // 添加弹窗
    iziToast.info({
        timeout: 4000, //调试
        icon: 'Fontawesome',
        closeOnEscape: 'true',
        transitionOut: 'fadeOutRight',
        displayMode: 'replace',
        layout: '2',
        transitionIn: 'bounceInLeft',
        position: 'topRight',
        icon: 'fad fa-exclamation-circle',
        backgroundColor: '#fff',
        title: '错误提示',
        message: 'Pjax 加载失败，正在强制刷新'
      });
	  volantis.pjax.method.error.start();
      window.location.href = e.triggerElement.href;
    });
</script>

    
  </div>
<style>
        .tiy-container {
            position: relative;
            overflow: hidden;
            display: inline-block;
            border: 1px solid #eee;
            margin: 1rem 0;
            width: 100%;
            height: 500px;
        }
        
        .tiy-container iframe {
            position: relative;
            top: 0;
            display: inline-block;
            background-color: white;
        }
        
        @media screen and (max-width: 600px) {
            .tiy-container {
                height: 700px;
                width: 100%;
            }
        }
        </style></body>

</html>